{"ast":null,"code":"var _jsxFileName = \"/Users/saloniangre/FuelRoutePro-Thampico/frontend/src/components/FuelRouteApp.js\",\n  _s = $RefreshSig$();\n//frontend/src/components/FuelRouteApp.js - ERROR FIXES ONLY\nimport React, { useState, useEffect } from 'react';\nimport RouteMap from './RouteMap';\nimport CostComparisonChart from './CostComparisonChart';\nimport './RouteMap.css';\n\n// API Service - inlined to avoid external imports\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_BASE_URL = 'http://localhost:5001/api';\nconst makeRequest = async (endpoint, options = {}) => {\n  const url = `${API_BASE_URL}${endpoint}`;\n  const defaultOptions = {\n    headers: {\n      'Content-Type': 'application/json',\n      ...options.headers\n    }\n  };\n  try {\n    const response = await fetch(url, {\n      ...defaultOptions,\n      ...options\n    });\n    if (!response.ok) {\n      const errorData = await response.json().catch(() => ({}));\n      throw new Error(errorData.error || `HTTP error! status: ${response.status}`);\n    }\n    return await response.json();\n  } catch (error) {\n    console.error('API request failed:', error);\n    throw error;\n  }\n};\n\n// API functions\nconst checkApiHealth = () => makeRequest('/health');\nconst getFuelTypes = () => makeRequest('/fuel-types');\nconst getRouteHistory = () => makeRequest('/routes');\nconst calculateRouteCost = routeData => makeRequest('/calculate-cost', {\n  method: 'POST',\n  body: JSON.stringify(routeData)\n});\n\n// Add these new API functions after your existing API functions\nconst getRouteVisualization = (routeOptions, routeData) => makeRequest('/routing/visualization', {\n  method: 'POST',\n  body: JSON.stringify({\n    routeOptions,\n    origin: routeData.origin,\n    destination: routeData.destination,\n    fuelType: routeData.fuelType\n  })\n});\nconst getLocationsData = () => makeRequest('/routing/locations');\nconst FuelRouteApp = ({\n  backendAPI,\n  apiStatus\n}) => {\n  _s();\n  var _locationSuggestions$, _result$calculation, _result$data$aiInsigh, _result$data$aiInsigh2;\n  // Form state\n  const [formData, setFormData] = useState({\n    fuelType: 'hydrogen',\n    volume: '',\n    volumeUnit: 'tonnes',\n    origin: '',\n    destination: '',\n    intermediateHub: '',\n    transportMode1: 'truck',\n    transportMode2: 'truck',\n    preference: 'cost'\n  });\n\n  // App state\n  const [result, setResult] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [validationErrors, setValidationErrors] = useState({});\n  const [fuelTypes, setFuelTypes] = useState(['hydrogen', 'methanol', 'ammonia']);\n  const [routeHistory, setRouteHistory] = useState([]);\n  const [localApiStatus, setLocalApiStatus] = useState('checking');\n  const [routeInsights, setRouteInsights] = useState('');\n  const [locationSuggestions, setLocationSuggestions] = useState({});\n  const [aiValidating, setAiValidating] = useState(false);\n  const [mapData, setMapData] = useState({\n    routeVisualizations: [],\n    selectedRoute: null,\n    showMap: false,\n    locations: []\n  });\n\n  // AI-powered location suggestions (common locations for quick selection)\n  // 1. UPDATE: Replace your existing commonLocations array (around line 40-80)\n  const commonLocations = [\n  // Gulf Coast Ports\n  'Houston, TX', 'New Orleans, LA', 'Mobile, AL', 'Tampa Bay, FL',\n  // Southeast Atlantic Ports  \n  'Savannah, GA', 'Jacksonville, FL', 'Miami, FL',\n  // Northeast Corridor Ports\n  'New York/NJ', 'Philadelphia, PA', 'Norfolk, VA', 'Boston, MA',\n  // West Coast Ports\n  'Long Beach, CA', 'Los Angeles, CA', 'Seattle, WA', 'Portland, OR', 'San Francisco/Oakland, CA',\n  // Inland Transportation Hubs\n  'Chicago, IL', 'St. Louis, MO', 'Memphis, TN', 'Duluth-Superior, MN/WI'];\n  const volumeUnits = [{\n    value: 'tonnes',\n    label: 'Tonnes (metric tons)',\n    factor: 1\n  }, {\n    value: 'kg',\n    label: 'Kilograms',\n    factor: 0.001\n  }, {\n    value: 'liters',\n    label: 'Liters',\n    factor: 0.001\n  },\n  // Approximate for liquid fuels\n  {\n    value: 'gallons',\n    label: 'Gallons (US)',\n    factor: 0.00378\n  }];\n  const transportModes = [{\n    value: 'truck',\n    label: 'Truck',\n    suitable: ['local', 'regional']\n  }, {\n    value: 'rail',\n    label: 'Rail',\n    suitable: ['regional', 'continental']\n  }];\n\n  // Check API health on component mount\n  useEffect(() => {\n    const initializeApp = async () => {\n      try {\n        if (backendAPI && backendAPI.isConnected) {\n          setLocalApiStatus('connected');\n          setFuelTypes(backendAPI.fuelTypes || ['hydrogen', 'methanol', 'ammonia']);\n          setRouteHistory(backendAPI.routeHistory || []);\n        } else {\n          await checkApiHealth();\n          setLocalApiStatus('connected');\n          const fuelTypesResponse = await getFuelTypes();\n          setFuelTypes(fuelTypesResponse.data || ['hydrogen', 'methanol', 'ammonia']);\n          const historyResponse = await getRouteHistory();\n          setRouteHistory(historyResponse.data || []);\n        }\n      } catch (error) {\n        console.error('Failed to initialize app:', error);\n        setLocalApiStatus('error');\n        setError('Unable to connect to backend server. Make sure it\\'s running on port 5001.');\n        // Ensure fuel types are always available even if API fails\n        setFuelTypes(['hydrogen', 'methanol', 'ammonia']);\n      }\n    };\n    initializeApp();\n  }, [backendAPI]);\n\n  // Add this new useEffect after your existing useEffect hooks (around line 80)\n  useEffect(() => {\n    const loadMapData = async () => {\n      if (result && result.routeOptions && Array.isArray(result.routeOptions) && result.routeOptions.length > 0) {\n        try {\n          console.log('ðŸ—ºï¸ Loading route visualization data...');\n          const mapResponse = await getRouteVisualization(result.routeOptions, formData);\n          if (mapResponse.success && mapResponse.visualizations) {\n            setMapData(prev => ({\n              ...prev,\n              routeVisualizations: mapResponse.visualizations,\n              showMap: true,\n              selectedRoute: mapResponse.visualizations[0] || null\n            }));\n            console.log('âœ… Map data loaded:', mapResponse.visualizations.length, 'routes');\n          }\n        } catch (error) {\n          console.error('âŒ Failed to load map data:', error);\n          // Map is optional - don't show error to user\n        }\n      } else {\n        setMapData(prev => ({\n          ...prev,\n          showMap: false,\n          routeVisualizations: []\n        }));\n      }\n    };\n    loadMapData();\n  }, [result, formData.origin, formData.destination, formData.fuelType]);\n\n  // Add this function after your existing helper functions (around line 200)\n  const handleMapRouteSelect = selectedRoute => {\n    var _result$routeOptions;\n    console.log('ðŸ—ºï¸ Map route selected:', selectedRoute.id);\n    setMapData(prev => ({\n      ...prev,\n      selectedRoute\n    }));\n\n    // Find matching route option and trigger detailed calculation\n    const matchingRouteOption = (_result$routeOptions = result.routeOptions) === null || _result$routeOptions === void 0 ? void 0 : _result$routeOptions.find(route => route.id === selectedRoute.id || route.name === selectedRoute.name);\n    if (matchingRouteOption) {\n      calculateDetailedCost(matchingRouteOption);\n    }\n  };\n  // Track route history changes\n  useEffect(() => {\n    console.log('ðŸ”„ Route history state updated:', routeHistory.length, 'entries');\n  }, [routeHistory]);\n\n  // Route validation and insights\n  useEffect(() => {\n    if (formData.origin && formData.destination) {\n      validateRoute();\n    }\n  }, [formData.origin, formData.destination, formData.intermediateHub, formData.volume, formData.volumeUnit, locationSuggestions]);\n\n  // REPLACE with this simple validation:\n  const validateLocationBasic = (location, fieldName) => {\n    const isValid = commonLocations.some(validLocation => validLocation.toLowerCase().includes(location.toLowerCase()) || location.toLowerCase().includes(validLocation.toLowerCase()));\n    const suggestions = {\n      ...locationSuggestions\n    };\n    if (isValid) {\n      const matchedLocation = commonLocations.find(validLocation => validLocation.toLowerCase().includes(location.toLowerCase()) || location.toLowerCase().includes(validLocation.toLowerCase()));\n      suggestions[fieldName] = {\n        valid: true,\n        corrected: matchedLocation || location\n      };\n      setValidationErrors(prev => {\n        const newErrors = {\n          ...prev\n        };\n        delete newErrors[fieldName];\n        return newErrors;\n      });\n    } else {\n      suggestions[fieldName] = {\n        valid: false,\n        error: 'Please select from the 20 major US ports/hubs'\n      };\n    }\n    setLocationSuggestions(suggestions);\n  };\n\n  // âœ… NEW: Generate location insights based on validation results\n  const generateLocationInsights = (result, transportMode, fuelType) => {\n    var _result$transportMode, _result$transportMode2, _result$transportMode3;\n    const insights = [];\n\n    // Transport mode insights\n    if (!((_result$transportMode = result.transportMode) !== null && _result$transportMode !== void 0 && _result$transportMode.suitable)) {\n      insights.push(`âš ï¸ ${transportMode} transport may not be available at this location`);\n    } else if (result.transportMode.infrastructure === 'major_port') {\n      insights.push('Major port facility');\n    } else if (result.transportMode.infrastructure === 'major_rail_hub') {\n      insights.push(`ðŸš‚ Major rail hub - excellent for rail transport`);\n    }\n\n    // Fuel-specific insights\n    if (result.fuelRequirements) {\n      const reqs = result.fuelRequirements.requirements;\n      if (fuelType === 'hydrogen') {\n        insights.push('â„ï¸ Cryogenic facilities required for hydrogen');\n      } else if (fuelType === 'ammonia') {\n        insights.push(`ðŸ§Š Refrigerated storage required for ammonia`);\n      }\n    }\n\n    // Warnings\n    if (((_result$transportMode2 = result.transportMode) === null || _result$transportMode2 === void 0 ? void 0 : (_result$transportMode3 = _result$transportMode2.warnings) === null || _result$transportMode3 === void 0 ? void 0 : _result$transportMode3.length) > 0) {\n      insights.push(...result.transportMode.warnings.map(w => `âš ï¸ ${w}`));\n    }\n    return insights;\n  };\n  const setLocationBasicValidation = (location, fieldName) => {\n    // Enhanced fallback validation for the 20 US port/hub locations\n    const isValid = commonLocations.some(validLocation => validLocation.toLowerCase().includes(location.toLowerCase()) || location.toLowerCase().includes(validLocation.toLowerCase()));\n    const suggestions = {\n      ...locationSuggestions\n    };\n    if (isValid) {\n      // Find the matching location from our list\n      const matchedLocation = commonLocations.find(validLocation => validLocation.toLowerCase().includes(location.toLowerCase()) || location.toLowerCase().includes(validLocation.toLowerCase()));\n      let region = 'Unknown';\n      let type = 'port';\n      let state = '';\n\n      // Determine region based on location\n      const locationLower = location.toLowerCase();\n      if (locationLower.includes('houston') || locationLower.includes('new orleans') || locationLower.includes('mobile') || locationLower.includes('tampa')) {\n        region = 'Gulf Coast';\n      } else if (locationLower.includes('savannah') || locationLower.includes('jacksonville') || locationLower.includes('miami')) {\n        region = 'Southeast';\n      } else if (locationLower.includes('new york') || locationLower.includes('philadelphia') || locationLower.includes('norfolk') || locationLower.includes('boston')) {\n        region = 'Northeast';\n      } else if (locationLower.includes('long beach') || locationLower.includes('los angeles') || locationLower.includes('seattle') || locationLower.includes('portland') || locationLower.includes('san francisco') || locationLower.includes('oakland')) {\n        region = 'West Coast';\n      } else if (locationLower.includes('chicago') || locationLower.includes('st. louis') || locationLower.includes('memphis') || locationLower.includes('duluth')) {\n        region = 'Inland';\n      }\n\n      // Extract state\n      if (locationLower.includes('tx')) state = 'TX';else if (locationLower.includes('la')) state = 'LA';else if (locationLower.includes('al')) state = 'AL';else if (locationLower.includes('fl')) state = 'FL';else if (locationLower.includes('ga')) state = 'GA';else if (locationLower.includes('ny')) state = 'NY';else if (locationLower.includes('nj')) state = 'NJ';else if (locationLower.includes('pa')) state = 'PA';else if (locationLower.includes('va')) state = 'VA';else if (locationLower.includes('ma')) state = 'MA';else if (locationLower.includes('ca')) state = 'CA';else if (locationLower.includes('wa')) state = 'WA';else if (locationLower.includes('or')) state = 'OR';else if (locationLower.includes('il')) state = 'IL';else if (locationLower.includes('mo')) state = 'MO';else if (locationLower.includes('tn')) state = 'TN';else if (locationLower.includes('mn')) state = 'MN';else if (locationLower.includes('wi')) state = 'WI';\n\n      // Determine type\n      if (locationLower.includes('chicago') || locationLower.includes('st. louis') || locationLower.includes('memphis') || locationLower.includes('duluth')) {\n        type = 'hub';\n      }\n      suggestions[fieldName] = {\n        valid: true,\n        corrected: matchedLocation || location,\n        region: region,\n        type: type,\n        state: state\n      };\n\n      // Clear validation errors for this field when location is valid\n      setValidationErrors(prev => {\n        const newErrors = {\n          ...prev\n        };\n        delete newErrors[fieldName];\n        return newErrors;\n      });\n    } else {\n      suggestions[fieldName] = {\n        valid: false,\n        error: 'Please select a location from the list of 20 major US ports/hubs'\n      };\n    }\n    setLocationSuggestions(suggestions);\n  };\n  const validateRoute = () => {\n    const errors = {};\n    let insights = '';\n    if (formData.origin && formData.destination) {\n      // Check if origin and destination are the same\n      if (formData.origin.toLowerCase() === formData.destination.toLowerCase()) {\n        errors.destination = 'Destination cannot be the same as origin';\n      }\n      const originInfo = locationSuggestions.origin;\n      const destInfo = locationSuggestions.destination;\n\n      // AI-enhanced route type calculation\n      let routeType = 'unknown';\n      if (originInfo && destInfo && originInfo.valid && destInfo.valid) {\n        if (originInfo.region === destInfo.region) {\n          routeType = 'regional';\n        } else if (originInfo.region !== destInfo.region) {\n          routeType = 'long';\n        }\n\n        // Enhanced insights based on AI analysis\n        const volume = parseFloat(formData.volume);\n        const volumeUnit = formData.volumeUnit;\n        if (volume > 0) {\n          var _volumeUnits$find;\n          const volumeInTonnes = volume * (((_volumeUnits$find = volumeUnits.find(u => u.value === volumeUnit)) === null || _volumeUnits$find === void 0 ? void 0 : _volumeUnits$find.factor) || 1);\n          if (routeType === 'regional' && volumeInTonnes <= 5) {\n            insights = `ðŸš› Short distance within ${originInfo.region}: Truck transport recommended for cost efficiency.`;\n          } else if (volumeInTonnes > 10) {\n            insights = `ðŸš¢ For 10+ tonnes: Rail transport recommended for cost efficiency and environmental benefits. Large volumes benefit from bulk transport modes with lower per-unit costs.`;\n          } else if (routeType === 'long') {\n            insights = `Long route (${originInfo.region} â†’ ${destInfo.region}): Rail transport recommended via intermediate hub for optimal cost and safety.`;\n          } else if (volumeInTonnes > 15) {\n            insights = `ðŸš† Large volume transport: Consider rail for cost efficiency.`;\n          }\n\n          // Add fuel-specific insights\n          if (formData.fuelType === 'hydrogen') {\n            insights += ' Hydrogen requires specialized cryogenic handling protocols.';\n          } else if (formData.fuelType === 'ammonia') {\n            insights += ' Ammonia transport requires specialized safety and ventilation systems.';\n          }\n        }\n      } else {\n        // Fallback to basic validation for non-AI validated locations\n        const volume = parseFloat(formData.volume);\n        const volumeUnit = formData.volumeUnit;\n        if (volume > 0) {\n          var _volumeUnits$find2;\n          const volumeInTonnes = volume * (((_volumeUnits$find2 = volumeUnits.find(u => u.value === volumeUnit)) === null || _volumeUnits$find2 === void 0 ? void 0 : _volumeUnits$find2.factor) || 1);\n          if (volumeInTonnes <= 5) {\n            insights = 'Small volume: Truck transport typically most cost-effective for shorter distances.';\n          } else if (volumeInTonnes > 10) {\n            insights = 'For 10+ tonnes: Rail transport recommended for cost efficiency and environmental benefits.';\n          }\n        }\n      }\n\n      // Validate transport modes with AI insights\n      if (routeType === 'long' && formData.transportMode1 === 'truck' && !formData.intermediateHub) {\n        errors.transport = 'Long truck transport requires an intermediate hub or consider rail transport for cross-continental delivery';\n      }\n    }\n    setValidationErrors(errors);\n    setRouteInsights(insights);\n  };\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n\n    // Clear specific validation errors when user starts fixing them\n    if (validationErrors[name]) {\n      setValidationErrors(prev => ({\n        ...prev,\n        [name]: ''\n      }));\n    }\n    if (['origin', 'destination', 'intermediateHub'].includes(name) && value.length > 2) {\n      validateLocationBasic(value, name);\n    }\n  };\n\n  // FIXED: Enhanced isShortRoute function with improved California detection\n  // REPLACE the isShortRoute() function in FuelRouteApp.js with this enhanced version\n\n  const isShortRoute = () => {\n    if (!formData.origin || !formData.destination) return false;\n    const origin = formData.origin.toLowerCase();\n    const dest = formData.destination.toLowerCase();\n    console.log('ðŸ” Route check:', {\n      origin,\n      dest\n    });\n\n    // **PRIORITY 1: California Routes (Same State - Most Common)**\n    const californiaRoutes = [['los angeles', 'long beach'],\n    // ~20 miles - VERY SHORT\n    ['los angeles', 'san francisco'],\n    // ~380 miles\n    ['los angeles', 'oakland'],\n    // ~380 miles  \n    ['long beach', 'san francisco'],\n    // ~400 miles\n    ['long beach', 'oakland'],\n    // ~400 miles\n    ['san francisco', 'oakland'] // ~15 miles - VERY SHORT\n    ];\n    const isCaliforniaRoute = californiaRoutes.some(([city1, city2]) => origin.includes(city1) && dest.includes(city2) || origin.includes(city2) && dest.includes(city1));\n    if (isCaliforniaRoute) {\n      console.log('âœ… California short route detected');\n      return true;\n    }\n\n    // **PRIORITY 2: Northeast Corridor (Very Close)**\n    const northeastRoutes = [['new york', 'philadelphia'],\n    // ~95 miles\n    ['new york', 'boston'],\n    // ~215 miles\n    ['philadelphia', 'boston'] // ~300 miles\n    ];\n    const isNortheastRoute = northeastRoutes.some(([city1, city2]) => origin.includes(city1) && dest.includes(city2) || origin.includes(city2) && dest.includes(city1));\n    if (isNortheastRoute) {\n      console.log('âœ… Northeast corridor short route detected');\n      return true;\n    }\n\n    // **PRIORITY 3: Southeast Coast (Regional)**\n    const southeastRoutes = [['tampa', 'miami'],\n    // ~280 miles\n    ['jacksonville', 'miami'],\n    // ~350 miles\n    ['savannah', 'jacksonville'],\n    // ~140 miles\n    ['tampa', 'jacksonville'] // ~200 miles\n    ];\n    const isSoutheastRoute = southeastRoutes.some(([city1, city2]) => origin.includes(city1) && dest.includes(city2) || origin.includes(city2) && dest.includes(city1));\n    if (isSoutheastRoute) {\n      console.log('âœ… Southeast regional short route detected');\n      return true;\n    }\n\n    // **PRIORITY 4: Gulf Coast (Regional)**\n    const gulfRoutes = [['houston', 'new orleans'],\n    // ~350 miles\n    ['new orleans', 'mobile'],\n    // ~150 miles\n    ['houston', 'mobile'] // ~350 miles\n    ];\n    const isGulfRoute = gulfRoutes.some(([city1, city2]) => origin.includes(city1) && dest.includes(city2) || origin.includes(city2) && dest.includes(city1));\n    if (isGulfRoute) {\n      console.log('âœ… Gulf coast short route detected');\n      return true;\n    }\n\n    // **PRIORITY 5: Pacific Northwest (Regional)**\n    const pacificNorthwestRoutes = [['seattle', 'portland'] // ~170 miles\n    ];\n    const isPacificNorthwestRoute = pacificNorthwestRoutes.some(([city1, city2]) => origin.includes(city1) && dest.includes(city2) || origin.includes(city2) && dest.includes(city1));\n    if (isPacificNorthwestRoute) {\n      console.log('âœ… Pacific Northwest short route detected');\n      return true;\n    }\n\n    // **PRIORITY 6: Midwest/Great Lakes (Regional)**\n    const midwestRoutes = [['chicago', 'st. louis'],\n    // ~300 miles\n    ['chicago', 'memphis'],\n    // ~530 miles\n    ['memphis', 'st. louis'],\n    // ~300 miles\n    ['chicago', 'duluth'],\n    // ~350 miles\n    ['chicago', 'superior'] // ~350 miles\n    ];\n    const isMidwestRoute = midwestRoutes.some(([city1, city2]) => origin.includes(city1) && dest.includes(city2) || origin.includes(city2) && dest.includes(city1));\n    if (isMidwestRoute) {\n      console.log('âœ… Midwest regional short route detected');\n      return true;\n    }\n\n    // **PRIORITY 7: Mid-Atlantic (Regional)**\n    const midAtlanticRoutes = [['norfolk', 'philadelphia'],\n    // ~300 miles\n    ['norfolk', 'new york'] // ~350 miles\n    ];\n    const isMidAtlanticRoute = midAtlanticRoutes.some(([city1, city2]) => origin.includes(city1) && dest.includes(city2) || origin.includes(city2) && dest.includes(city1));\n    if (isMidAtlanticRoute) {\n      console.log('âœ… Mid-Atlantic short route detected');\n      return true;\n    }\n\n    // **FALLBACK: Check AI validation if available**\n    const originInfo = locationSuggestions.origin;\n    const destInfo = locationSuggestions.destination;\n    if (originInfo && destInfo && originInfo.valid && destInfo.valid) {\n      const isDomestic = originInfo.region === destInfo.region && originInfo.country === destInfo.country;\n      console.log('ðŸ¤– AI route check:', {\n        originRegion: originInfo.region,\n        destRegion: destInfo.region,\n        originCountry: originInfo.country,\n        destCountry: destInfo.country,\n        isDomestic\n      });\n      return isDomestic;\n    }\n\n    // **FINAL FALLBACK: General US domestic detection**\n    const usStates = ['ca', 'california', 'wa', 'washington', 'ny', 'new york', 'texas', 'tx', 'florida', 'fl', 'illinois', 'il', 'oregon', 'or', 'massachusetts', 'ma', 'pennsylvania', 'pa', 'virginia', 'va', 'georgia', 'ga', 'louisiana', 'la', 'alabama', 'al', 'missouri', 'mo', 'tennessee', 'tn', 'minnesota', 'mn', 'wisconsin', 'wi'];\n    const usCities = ['los angeles', 'san francisco', 'oakland', 'seattle', 'houston', 'chicago', 'new york', 'miami', 'boston', 'philadelphia', 'long beach', 'portland', 'memphis', 'st. louis', 'norfolk', 'savannah', 'tampa', 'mobile', 'duluth'];\n    const originUS = usStates.some(state => origin.includes(state)) || usCities.some(city => origin.includes(city)) || origin.includes('usa') || origin.includes('united states');\n    const destUS = usStates.some(state => dest.includes(state)) || usCities.some(city => dest.includes(city)) || dest.includes('usa') || dest.includes('united states');\n    if (originUS && destUS) {\n      console.log('âœ… General Short route detected');\n      return true;\n    }\n    console.log('âŒ Long route detected');\n    return false;\n  };\n\n  // FIXED: Function to determine if second transport mode should be shown\n  const shouldShowSecondTransportMode = () => {\n    const hasIntermediateHub = formData.intermediateHub && formData.intermediateHub.trim() !== '';\n    const isShort = isShortRoute();\n    console.log('ðŸš¦ Transport mode check:', {\n      hasIntermediateHub,\n      isShort\n    });\n\n    // Show second transport mode ONLY if:\n    // 1. There's an actual intermediate hub provided, OR\n    // 2. It's NOT a short route (meaning it's long route) AND no intermediate hub\n    const shouldShow = hasIntermediateHub || !isShort && !hasIntermediateHub;\n    console.log('ðŸš¦ Should show second transport mode:', shouldShow);\n    return shouldShow;\n  };\n\n  // Updated handleSubmit with proper validation\n  const handleSubmit = async (mode = 'options') => {\n    setLoading(true);\n    setError('');\n    setResult(null);\n    try {\n      var _volumeUnits$find3;\n      // Validate required fields\n      const errors = {};\n      if (!formData.fuelType) errors.fuelType = 'Please select a fuel type';\n      if (!formData.volume) errors.volume = 'Please enter volume';\n      if (!formData.origin) errors.origin = 'Please enter origin';\n      if (!formData.destination) errors.destination = 'Please enter destination';\n\n      // Validate locations - check if they are in the common locations list\n      if (formData.origin && !commonLocations.some(loc => loc.toLowerCase() === formData.origin.toLowerCase() || loc.toLowerCase().includes(formData.origin.toLowerCase()) || formData.origin.toLowerCase().includes(loc.toLowerCase()))) {\n        // Only set error if AI validation also failed\n        if (locationSuggestions.origin && locationSuggestions.origin.valid === false) {\n          errors.origin = 'Please enter a valid origin location';\n        }\n      }\n      if (formData.destination && !commonLocations.some(loc => loc.toLowerCase() === formData.destination.toLowerCase() || loc.toLowerCase().includes(formData.destination.toLowerCase()) || formData.destination.toLowerCase().includes(loc.toLowerCase()))) {\n        // Only set error if AI validation also failed\n        if (locationSuggestions.destination && locationSuggestions.destination.valid === false) {\n          errors.destination = 'Please enter a valid destination location';\n        }\n      }\n\n      // Only validate intermediate hub if it's actually provided\n      if (formData.intermediateHub && formData.intermediateHub.trim() !== '') {\n        if (!commonLocations.some(loc => loc.toLowerCase() === formData.intermediateHub.toLowerCase() || loc.toLowerCase().includes(formData.intermediateHub.toLowerCase()) || formData.intermediateHub.toLowerCase().includes(loc.toLowerCase()))) {\n          // Only set error if AI validation also failed\n          if (locationSuggestions.intermediateHub && locationSuggestions.intermediateHub.valid === false) {\n            errors.intermediateHub = 'Please enter a valid intermediate hub location';\n          }\n        }\n      }\n\n      // Add existing validation errors (only if they exist)\n      Object.assign(errors, validationErrors);\n      if (Object.keys(errors).length > 0) {\n        setValidationErrors(errors);\n        throw new Error('Please fix the validation errors above');\n      }\n\n      // Convert volume to tonnes for API\n      const volumeInTonnes = parseFloat(formData.volume) * (((_volumeUnits$find3 = volumeUnits.find(u => u.value === formData.volumeUnit)) === null || _volumeUnits$find3 === void 0 ? void 0 : _volumeUnits$find3.factor) || 1);\n\n      // Prepare data for API\n      const requestData = {\n        ...formData,\n        volume: volumeInTonnes,\n        // Always send in tonnes to backend\n        volumeUnit: 'tonnes',\n        // Backend expects tonnes\n        requestType: mode,\n        // 'options' for multiple routes, 'single' for best recommendation\n        preference: formData.preference\n      };\n      console.log(`Sending ${mode} request:`, requestData);\n      if (backendAPI && backendAPI.isConnected && apiStatus === 'connected') {\n        console.log(`ðŸ¤– Using backend AI calculation (${mode} mode)...`);\n        const response = await backendAPI.calculateCost(requestData);\n        console.log('Received response:', response);\n        setResult(response);\n        if (backendAPI.refreshHistory) {\n          await backendAPI.refreshHistory();\n        }\n      } else {\n        var _historyResponse$data;\n        console.log(`ðŸ”§ Using direct API call (${mode} mode)...`);\n        const response = await calculateRouteCost(requestData);\n        console.log('Received response:', response);\n        setResult(response);\n        const historyResponse = await getRouteHistory();\n        console.log('ðŸ“Š Route history updated:', ((_historyResponse$data = historyResponse.data) === null || _historyResponse$data === void 0 ? void 0 : _historyResponse$data.length) || 0, 'entries');\n        setRouteHistory(historyResponse.data || []);\n      }\n    } catch (error) {\n      setError(error.message);\n      console.error('Calculation failed:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // âœ… FIXED: calculateDetailedCost function with proper debugging and variable declaration\n  const calculateDetailedCost = async selectedRouteOption => {\n    setLoading(true);\n    setError('');\n    try {\n      var _volumeUnits$find4;\n      console.log('ðŸ” FRONTEND DEBUG - Selected route option:');\n      console.log('   - ID:', selectedRouteOption.id);\n      console.log('   - Name:', selectedRouteOption.name);\n      console.log('   - Transport modes:', selectedRouteOption.transportModes);\n      console.log('   - Estimated cost:', selectedRouteOption.estimatedCost);\n      console.log('ðŸŽ¯ Getting detailed cost for route:', selectedRouteOption.id);\n\n      // Convert volume to tonnes for API\n      const volumeInTonnes = parseFloat(formData.volume) * (((_volumeUnits$find4 = volumeUnits.find(u => u.value === formData.volumeUnit)) === null || _volumeUnits$find4 === void 0 ? void 0 : _volumeUnits$find4.factor) || 1);\n\n      // Prepare data for detailed calculation\n      const requestData = {\n        ...formData,\n        volume: volumeInTonnes,\n        volumeUnit: 'tonnes',\n        requestType: 'single',\n        // This tells backend to return detailed calculation\n        selectedRoute: selectedRouteOption,\n        preference: formData.preference\n      };\n      console.log('Requesting detailed calculation:', requestData);\n\n      // âœ… FIXED: Properly declare detailedResponse variable\n      let detailedResponse;\n      if (backendAPI && backendAPI.isConnected && apiStatus === 'connected') {\n        console.log('ðŸ¤– Using backend API for detailed calculation...');\n        detailedResponse = await backendAPI.calculateCost(requestData);\n      } else {\n        console.log('ðŸ”§ Using direct API call for detailed calculation...');\n        detailedResponse = await calculateRouteCost(requestData);\n      }\n      console.log('Detailed calculation response:', detailedResponse);\n\n      // Update result to show detailed calculation\n      setResult(detailedResponse);\n\n      // Refresh history\n      if (backendAPI && backendAPI.refreshHistory) {\n        await backendAPI.refreshHistory();\n      } else {\n        var _historyResponse$data2;\n        const historyResponse = await getRouteHistory();\n        console.log('ðŸ“Š Detailed calc - Route history updated:', ((_historyResponse$data2 = historyResponse.data) === null || _historyResponse$data2 === void 0 ? void 0 : _historyResponse$data2.length) || 0, 'entries');\n        setRouteHistory(historyResponse.data || []);\n      }\n    } catch (error) {\n      setError(`Failed to get detailed calculation: ${error.message}`);\n      console.error('Detailed calculation failed:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const formatCurrency = amount => {\n    return new Intl.NumberFormat('en-US', {\n      style: 'currency',\n      currency: 'USD'\n    }).format(amount);\n  };\n  const formatDate = dateString => {\n    return new Date(dateString).toLocaleString();\n  };\n  const formatTrucks = count => {\n    if (!count) return '';\n    return count === 1 ? '1 truck' : `${count} trucks`;\n  };\n  const currentApiStatus = apiStatus || localApiStatus;\n\n  // API Status indicator with AI enhancement\n  const ApiStatusIndicator = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `flex items-center gap-2 mb-4 p-2 rounded ${currentApiStatus === 'connected' ? 'bg-green-100 text-green-800' : currentApiStatus === 'error' ? 'bg-red-100 text-red-800' : 'bg-yellow-100 text-yellow-800'}`,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: `w-2 h-2 rounded-full ${currentApiStatus === 'connected' ? 'bg-green-500' : currentApiStatus === 'error' ? 'bg-red-500' : 'bg-yellow-500'}`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 855,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"text-sm font-medium\",\n      children: currentApiStatus === 'connected' ? 'Backend Connected (AI Enhanced) - 20 US Ports/Hubs' : currentApiStatus === 'error' ? 'Backend Disconnected' : 'Checking Connection...'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 860,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 850,\n    columnNumber: 5\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-50 py-8 px-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-4xl mx-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-3xl font-bold text-gray-900 mb-8 text-center\",\n        children: \"FuelRoute Pro Cost Calculator\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 871,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ApiStatusIndicator, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 875,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-lg shadow-md p-6 max-w-lg mx-auto relative overflow-hidden\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute inset-0 pointer-events-none\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute top-4 left-8 w-12 h-12 bg-blue-100 rounded-full opacity-30 animate-bounce\",\n              style: {\n                animationDelay: '0s',\n                animationDuration: '3s'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 882,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute top-16 right-12 w-8 h-8 bg-green-100 rounded-full opacity-40 animate-pulse\",\n              style: {\n                animationDelay: '1s',\n                animationDuration: '2s'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 883,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute bottom-20 left-16 w-6 h-6 bg-purple-100 rounded-full opacity-35 animate-bounce\",\n              style: {\n                animationDelay: '2s',\n                animationDuration: '4s'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 884,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute bottom-8 right-8 w-10 h-10 bg-indigo-100 rounded-full opacity-25 animate-pulse\",\n              style: {\n                animationDelay: '0.5s',\n                animationDuration: '3.5s'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 885,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute top-32 left-4 w-4 h-4 bg-teal-100 rounded-full opacity-45 animate-bounce\",\n              style: {\n                animationDelay: '1.5s',\n                animationDuration: '2.5s'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 886,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute bottom-32 right-20 w-14 h-14 bg-cyan-100 rounded-full opacity-20 animate-pulse\",\n              style: {\n                animationDelay: '3s',\n                animationDuration: '4s'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 887,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 881,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-xl font-semibold mb-4 relative z-10\",\n            children: \"Calculate Transport Cost - US Ports & Hubs\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 890,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-6 relative z-10\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-2\",\n                children: \"Fuel Type *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 895,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                name: \"fuelType\",\n                value: formData.fuelType,\n                onChange: handleInputChange,\n                className: \"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent\",\n                required: true,\n                children: [console.log('ðŸ” Fuel Types:', fuelTypes), fuelTypes.map(type => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: type,\n                  children: type.charAt(0).toUpperCase() + type.slice(1)\n                }, type, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 907,\n                  columnNumber: 21\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 898,\n                columnNumber: 17\n              }, this), validationErrors.fuelType && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-red-500 text-sm mt-1\",\n                children: validationErrors.fuelType\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 913,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 894,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-2 gap-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-sm font-medium text-gray-700 mb-2\",\n                  children: \"Volume *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 920,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  name: \"volume\",\n                  value: formData.volume,\n                  onChange: handleInputChange,\n                  min: \"0.1\",\n                  step: \"0.1\",\n                  className: \"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent\",\n                  placeholder: \"Enter volume\",\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 923,\n                  columnNumber: 19\n                }, this), validationErrors.volume && /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-red-500 text-sm mt-1\",\n                  children: validationErrors.volume\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 935,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 919,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-sm font-medium text-gray-700 mb-2\",\n                  children: \"Unit\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 939,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  name: \"volumeUnit\",\n                  value: formData.volumeUnit,\n                  onChange: handleInputChange,\n                  className: \"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent\",\n                  children: volumeUnits.map(unit => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: unit.value,\n                    children: unit.label\n                  }, unit.value, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 949,\n                    columnNumber: 23\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 942,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 938,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 918,\n              columnNumber: 15\n            }, this), formData.volume && parseFloat(formData.volume) > 0 && formData.fuelType && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-lg p-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center gap-2 mb-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-blue-600\",\n                  children: \"\\uD83D\\uDE9B\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 961,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"font-medium text-blue-800\",\n                  children: \"Quick Truck Requirements\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 962,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 960,\n                columnNumber: 19\n              }, this), (_volumeUnits$find5 => {\n                const volumeInTonnes = parseFloat(formData.volume) * (((_volumeUnits$find5 = volumeUnits.find(u => u.value === formData.volumeUnit)) === null || _volumeUnits$find5 === void 0 ? void 0 : _volumeUnits$find5.factor) || 1);\n                const truckCapacities = {\n                  hydrogen: 8,\n                  methanol: 12,\n                  ammonia: 10,\n                  gasoline: 12,\n                  diesel: 12,\n                  ethanol: 12\n                };\n                const maxCapacity = truckCapacities[formData.fuelType] || 10;\n                const trucksNeeded = Math.max(1, Math.ceil(volumeInTonnes / maxCapacity));\n                const utilizationPercent = Math.round(volumeInTonnes / (trucksNeeded * maxCapacity) * 100);\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm text-blue-700\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"font-medium\",\n                    children: [trucksNeeded, \" truck\", trucksNeeded > 1 ? 's' : '', \" required for \", volumeInTonnes.toFixed(1), \" tonnes of \", formData.fuelType]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 980,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-xs mt-1\",\n                    children: [maxCapacity, \" tonnes capacity per truck \\u2022 \", utilizationPercent, \"% utilization\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 983,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 979,\n                  columnNumber: 23\n                }, this);\n              })()]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 959,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-2\",\n                children: [\"Origin * \", aiValidating && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-blue-500\",\n                  children: \"\\uD83E\\uDD16 AI Validating...\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 995,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 994,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                name: \"origin\",\n                value: formData.origin,\n                onChange: handleInputChange,\n                className: \"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent\",\n                placeholder: \"Enter origin\",\n                required: true,\n                list: \"origin-suggestions\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 997,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"datalist\", {\n                id: \"origin-suggestions\",\n                children: commonLocations.map((location, index) => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: location\n                }, index, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1009,\n                  columnNumber: 21\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1007,\n                columnNumber: 17\n              }, this), locationSuggestions.origin && locationSuggestions.origin.valid && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-1 text-sm text-green-600\",\n                children: [\"\\u2705 \", locationSuggestions.origin.corrected, locationSuggestions.origin.country && ` (${locationSuggestions.origin.country})`, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1016,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-xs\",\n                  children: [\"\\uD83D\\uDCCD \", locationSuggestions.origin.region, \" \\u2022 \", locationSuggestions.origin.type]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1017,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1013,\n                columnNumber: 19\n              }, this), locationSuggestions.origin && !locationSuggestions.origin.valid && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-1 text-sm text-red-600\",\n                children: [\"\\u274C \", locationSuggestions.origin.error]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1023,\n                columnNumber: 19\n              }, this), validationErrors.origin && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-red-500 text-sm mt-1\",\n                children: validationErrors.origin\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1028,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 993,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-2\",\n                children: [\"Destination * \", aiValidating && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-blue-500\",\n                  children: \"\\uD83E\\uDD16 AI Validating...\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1035,\n                  columnNumber: 50\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1034,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                name: \"destination\",\n                value: formData.destination,\n                onChange: handleInputChange,\n                className: \"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent\",\n                placeholder: \"Enter destination\",\n                required: true,\n                list: \"destination-suggestions\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1037,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"datalist\", {\n                id: \"destination-suggestions\",\n                children: commonLocations.map((location, index) => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: location\n                }, index, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1049,\n                  columnNumber: 21\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1047,\n                columnNumber: 17\n              }, this), locationSuggestions.destination && locationSuggestions.destination.valid && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-1 text-sm text-green-600\",\n                children: [\"\\u2705 \", locationSuggestions.destination.corrected, locationSuggestions.destination.country && ` (${locationSuggestions.destination.country})`, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1056,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-xs\",\n                  children: [\"\\uD83D\\uDCCD \", locationSuggestions.destination.region, \" \\u2022 \", locationSuggestions.destination.type]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1057,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1053,\n                columnNumber: 19\n              }, this), locationSuggestions.destination && !locationSuggestions.destination.valid && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-1 text-sm text-red-600\",\n                children: [\"\\u274C \", locationSuggestions.destination.error]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1063,\n                columnNumber: 19\n              }, this), validationErrors.destination && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-red-500 text-sm mt-1\",\n                children: validationErrors.destination\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1068,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1033,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-2\",\n                children: [\"Intermediate Hub (Optional) \", aiValidating && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-blue-500\",\n                  children: \"\\uD83E\\uDD16 AI Validating...\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1075,\n                  columnNumber: 64\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1074,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                name: \"intermediateHub\",\n                value: formData.intermediateHub,\n                onChange: handleInputChange,\n                className: \"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent\",\n                placeholder: \"Enter intermediate hub (optional)\",\n                list: \"hub-suggestions\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1077,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"datalist\", {\n                id: \"hub-suggestions\",\n                children: commonLocations.map((location, index) => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: location\n                }, index, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1088,\n                  columnNumber: 21\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1086,\n                columnNumber: 17\n              }, this), locationSuggestions.intermediateHub && locationSuggestions.intermediateHub.valid && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-1 text-sm text-green-600\",\n                children: [\"\\u2705 \", locationSuggestions.intermediateHub.corrected, locationSuggestions.intermediateHub.country && ` (${locationSuggestions.intermediateHub.country})`, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1095,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-xs\",\n                  children: [\"\\uD83D\\uDCCD \", locationSuggestions.intermediateHub.region, \" \\u2022 \", locationSuggestions.intermediateHub.type]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1096,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1092,\n                columnNumber: 19\n              }, this), locationSuggestions.intermediateHub && !locationSuggestions.intermediateHub.valid && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-1 text-sm text-red-600\",\n                children: [\"\\u274C \", locationSuggestions.intermediateHub.error]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1102,\n                columnNumber: 19\n              }, this), validationErrors.intermediateHub && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-red-500 text-sm mt-1\",\n                children: validationErrors.intermediateHub\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1107,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1073,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-2\",\n                children: [\"Transport Mode \", formData.intermediateHub && formData.intermediateHub.trim() !== '' ? '(First Leg)' : '']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1113,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                name: \"transportMode1\",\n                value: formData.transportMode1,\n                onChange: handleInputChange,\n                className: \"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent\",\n                children: transportModes.map(mode => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: mode.value,\n                  children: mode.label\n                }, mode.value, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1123,\n                  columnNumber: 21\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1116,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1112,\n              columnNumber: 15\n            }, this), shouldShowSecondTransportMode() ? /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-2\",\n                children: [\"Transport Mode (Second Leg)\", formData.intermediateHub && formData.intermediateHub.trim() !== '' ? ' (To Final Destination)' : ' (Long Route)']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1131,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                name: \"transportMode2\",\n                value: formData.transportMode2,\n                onChange: handleInputChange,\n                className: \"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent\",\n                children: transportModes.map(mode => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: mode.value,\n                  children: mode.label\n                }, mode.value, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1144,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1137,\n                columnNumber: 19\n              }, this), !isShortRoute() && (!formData.intermediateHub || formData.intermediateHub.trim() === '') && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-blue-600 mt-1\",\n                children: \"\\uD83D\\uDCA1 Long route: Rail transport recommended via intermediate hub for optimal cost and safety.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1150,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1130,\n              columnNumber: 17\n            }, this) :\n            /*#__PURE__*/\n            /* FIXED: Show info for short routes */\n            _jsxDEV(\"div\", {\n              className: \"bg-green-50 border border-green-200 rounded-md p-3\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex-shrink-0\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-green-400\",\n                    children: \"\\u2705\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1160,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1159,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"ml-2\",\n                  children: /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-green-700 text-sm\",\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"Short Domestic Route Detected:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1164,\n                      columnNumber: 25\n                    }, this), \" Single transport mode sufficient. No intermediate hub or second transport mode required for this \", ((_locationSuggestions$ = locationSuggestions.origin) === null || _locationSuggestions$ === void 0 ? void 0 : _locationSuggestions$.region) || 'domestic', \" route.\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1163,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1162,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1158,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1157,\n              columnNumber: 17\n            }, this), routeInsights && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-blue-50 border border-blue-200 rounded-md p-3\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex-shrink-0\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-blue-400\",\n                    children: \"\\uD83D\\uDCA1\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1177,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1176,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"ml-2\",\n                  children: /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-blue-700 text-sm\",\n                    children: routeInsights\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1180,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1179,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1175,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1174,\n              columnNumber: 17\n            }, this), validationErrors.transport && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-red-50 border border-red-200 rounded-md p-3\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-red-700 text-sm\",\n                children: validationErrors.transport\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1189,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1188,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-gray-50 p-3 rounded-md mb-4\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1195,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1194,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-gray-50 p-3 rounded-md mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-2\",\n                children: \"Optimization Preference\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1201,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                name: \"preference\",\n                value: formData.preference,\n                onChange: handleInputChange,\n                className: \"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"cost\",\n                  children: \"Lowest Cost\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1210,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"distance\",\n                  children: \"Shortest Distance\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1211,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1204,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1200,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-4 mt-6\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleSubmit('options'),\n                disabled: loading || currentApiStatus !== 'connected' || Object.keys(validationErrors).length > 0,\n                className: \"calculate-with-ai-btn\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"button-text\",\n                  children: loading ? 'CALCULATING WITH AI ENHANCEMENT...' : 'CALCULATE WITH AI ENHANCEMENT'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1222,\n                  columnNumber: 19\n                }, this), currentApiStatus === 'connected' && !loading && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"button-subtitle\",\n                  children: \"Multiple Route Options\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1226,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1217,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1216,\n              columnNumber: 15\n            }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded\",\n              children: error\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1235,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 892,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 879,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-6\",\n          children: /*#__PURE__*/_jsxDEV(React.Fragment, {\n            children: [result && result.routeOptions && Array.isArray(result.routeOptions) && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-white rounded-lg shadow-md p-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-lg font-semibold mb-4 text-blue-700\",\n                children: [\"Route Options (\", result.routeOptions.length, \" found)\", result.aiEnhanced && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"ml-2 text-sm bg-blue-100 text-blue-800 px-2 py-1 rounded\",\n                  children: \"\\uD83E\\uDD16 AI Enhanced\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1251,\n                  columnNumber: 23\n                }, this), result.aiRecommendation && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"ml-2 text-sm bg-green-100 text-green-800 px-2 py-1 rounded\",\n                  children: \"\\u2728 AI Optimized\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1256,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1248,\n                columnNumber: 19\n              }, this), result.processingInfo && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-lg p-3 mb-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center gap-2 mb-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-blue-600\",\n                    children: \"\\uD83E\\uDD16\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1266,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                    className: \"font-medium text-blue-800\",\n                    children: \"AI Enhancement Status\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1267,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1265,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"grid grid-cols-2 gap-4 text-sm text-blue-700\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-medium\",\n                      children: \"Dynamic Pricing:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1271,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"ml-1\",\n                      children: result.routeOptions.some(r => r.aiEnhanced) ? 'âœ… Active' : 'âš ï¸ Fallback'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1272,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1270,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-medium\",\n                      children: \"Distance Calculation:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1277,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"ml-1\",\n                      children: \"\\u2705 AI-Enhanced\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1278,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1276,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-medium\",\n                      children: \"Market Factors:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1281,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"ml-1\",\n                      children: result.routeOptions.some(r => r.aiFactors && !r.aiFactors.error) ? 'Real-time' : 'Static'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1282,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1280,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-medium\",\n                      children: \"AI-Enhanced Options:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1287,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"ml-1\",\n                      children: [result.routeOptions.filter(r => r.aiEnhanced).length, \"/\", result.routeOptions.length]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1288,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1286,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1269,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1264,\n                columnNumber: 21\n              }, this), result.searchQuery && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-gray-50 p-3 rounded mb-4 text-sm\",\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Search:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1299,\n                  columnNumber: 23\n                }, this), \" \", result.searchQuery.from, \" \\u2192 \", result.searchQuery.to, \" |\", result.searchQuery.volume, \" tonnes \", result.searchQuery.fuelType]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1298,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-4\",\n                children: (() => {\n                  // âœ… DEDUPLICATE: Remove duplicate routes at UI level\n                  const uniqueRoutes = [];\n                  const seenRoutes = new Set();\n                  result.routeOptions.forEach((option, index) => {\n                    var _option$transportMode;\n                    // Create unique key based on transport modes, distance, and cost\n                    const routeKey = `${((_option$transportMode = option.transportModes) === null || _option$transportMode === void 0 ? void 0 : _option$transportMode.join('-')) || 'unknown'}-${Math.round((option.distance || 0) / 50) * 50}-${Math.round((option.estimatedCost || 0) / 1000) * 1000}`;\n                    if (!seenRoutes.has(routeKey)) {\n                      seenRoutes.add(routeKey);\n                      uniqueRoutes.push({\n                        ...option,\n                        originalIndex: index\n                      });\n                    }\n                  });\n                  console.log(`ðŸ” UI Deduplication: ${result.routeOptions.length} â†’ ${uniqueRoutes.length} routes`);\n                  return uniqueRoutes.map((option, uniqueIndex) => {\n                    var _option$costBreakdown, _option$costBreakdown2, _option$costBreakdown3;\n                    return /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: `border rounded-lg p-4 transition-all cursor-pointer ${mapData.selectedRoute && mapData.selectedRoute.id === option.id ? 'border-blue-500 bg-blue-50 shadow-md' : uniqueIndex === 0 || option.recommended ? 'border-green-500 bg-green-50' : option.aiEnhanced ? 'border-blue-500 bg-blue-50' : 'border-gray-200 hover:bg-gray-50 hover:border-blue-300'}`,\n                      onClick: () => {\n                        // Add this click handler to route option cards\n                        const mapRoute = mapData.routeVisualizations.find(r => r.id === option.id || r.name === option.name);\n                        if (mapRoute) {\n                          handleMapRouteSelect(mapRoute);\n                        }\n                      },\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex justify-between items-start\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"flex-1\",\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"flex items-center gap-2 mb-2 flex-wrap\",\n                            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                              className: \"font-semibold text-gray-900\",\n                              children: option.name || 'Unknown Route'\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1345,\n                              columnNumber: 31\n                            }, this), (uniqueIndex === 0 || option.recommended) && /*#__PURE__*/_jsxDEV(\"span\", {\n                              className: \"text-xs bg-green-100 text-green-800 px-2 py-1 rounded\",\n                              children: \"\\uD83C\\uDFAF RECOMMENDED\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1347,\n                              columnNumber: 33\n                            }, this), option.aiEnhanced && /*#__PURE__*/_jsxDEV(\"span\", {\n                              className: \"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded\",\n                              children: \"\\uD83E\\uDD16 AI ENHANCED\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1352,\n                              columnNumber: 33\n                            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                              className: \"text-xs bg-gray-100 text-gray-800 px-2 py-1 rounded\",\n                              children: \"\\uD83D\\uDE9B TRANSPORT ONLY\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1358,\n                              columnNumber: 31\n                            }, this), mapData.selectedRoute && mapData.selectedRoute.id === option.id && /*#__PURE__*/_jsxDEV(\"span\", {\n                              className: \"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded\",\n                              children: \"\\uD83D\\uDDFA\\uFE0F SELECTED ON MAP\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1363,\n                              columnNumber: 33\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1344,\n                            columnNumber: 29\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"text-sm text-gray-600 space-y-1\",\n                            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                              children: [\"\\u23F1\\uFE0F Estimated Time: \", option.estimatedTime || 'Unknown']\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1370,\n                              columnNumber: 31\n                            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                              children: [\"\\uD83D\\uDCCD Distance: \", option.distance || 'Unknown', \" miles\"]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1371,\n                              columnNumber: 31\n                            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                              children: [\"\\u26A0\\uFE0F Risk Level: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                                className: `capitalize ${option.riskLevel === 'low' ? 'text-green-600' : option.riskLevel === 'medium' ? 'text-yellow-600' : 'text-red-600'}`,\n                                children: option.riskLevel || 'Unknown'\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 1372,\n                                columnNumber: 51\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1372,\n                              columnNumber: 31\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1369,\n                            columnNumber: 29\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1343,\n                          columnNumber: 27\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"text-right ml-4\",\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"text-xs text-gray-500 mb-1\",\n                            children: \"BASE TRANSPORT COST\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1383,\n                            columnNumber: 29\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"text-2xl font-bold text-green-600\",\n                            children: formatCurrency(((_option$costBreakdown = option.costBreakdown) === null || _option$costBreakdown === void 0 ? void 0 : _option$costBreakdown.totalCost) || option.estimatedCost || (((_option$costBreakdown2 = option.costBreakdown) === null || _option$costBreakdown2 === void 0 ? void 0 : _option$costBreakdown2.transportCost) || 0) + (((_option$costBreakdown3 = option.costBreakdown) === null || _option$costBreakdown3 === void 0 ? void 0 : _option$costBreakdown3.commodityCost) || 0) || 0)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1384,\n                            columnNumber: 29\n                          }, this), option.aiEnhanced && /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"text-xs text-blue-600 mb-1\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1394,\n                            columnNumber: 31\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"flex justify-center mt-2\",\n                            children: /*#__PURE__*/_jsxDEV(\"button\", {\n                              onClick: () => calculateDetailedCost(option),\n                              className: \"get-details-button\",\n                              children: \"Get Details\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1397,\n                              columnNumber: 31\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1396,\n                            columnNumber: 29\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1381,\n                          columnNumber: 27\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1342,\n                        columnNumber: 25\n                      }, this)\n                    }, option.id || `unique-${uniqueIndex}`, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1324,\n                      columnNumber: 23\n                    }, this);\n                  });\n                })()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1305,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1247,\n              columnNumber: 17\n            }, this), (result === null || result === void 0 ? void 0 : result.routeOptions) && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-white rounded-lg shadow-md p-6\",\n              children: /*#__PURE__*/_jsxDEV(CostComparisonChart, {\n                routes: result.routeOptions\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1415,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1414,\n              columnNumber: 17\n            }, this), result && result.calculation && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-white rounded-lg shadow-md p-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-lg font-semibold mb-4 text-green-700\",\n                children: [\"Detailed Cost Calculation\", result.aiEnhanced && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"ml-2 text-sm bg-green-100 text-green-800 px-2 py-1 rounded\",\n                  children: \"\\uD83E\\uDD16 AI Enhanced\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1425,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1422,\n                columnNumber: 19\n              }, this), result.selectedRoute && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-blue-50 p-3 rounded mb-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"font-medium text-blue-800\",\n                  children: result.selectedRoute.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1434,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-blue-700 text-sm\",\n                  children: result.selectedRoute.description\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1435,\n                  columnNumber: 23\n                }, this), (result.selectedRoute.trucksNeeded || ((_result$calculation = result.calculation) === null || _result$calculation === void 0 ? void 0 : _result$calculation.trucksNeeded)) && /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-blue-700 text-sm\",\n                  children: [\"\\uD83D\\uDE9A \", formatTrucks(result.selectedRoute.trucksNeeded || result.calculation.trucksNeeded)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1437,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1433,\n                columnNumber: 21\n              }, this), result && result.calculation && result.selectedRoute && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-white rounded-lg shadow-md p-6 mb-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-lg font-semibold mb-4 text-blue-700\",\n                  children: \"\\uD83D\\uDCCD Detailed Route Visualization\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1444,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(RouteMap, {\n                  routeOptions: [result.selectedRoute],\n                  selectedRoute: result.selectedRoute,\n                  origin: formData.origin,\n                  destination: formData.destination,\n                  onRouteSelect: () => {},\n                  showAllRoutes: false,\n                  height: \"500px\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1447,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1443,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-3xl font-bold text-green-600 text-center p-4 bg-green-50 rounded\",\n                  children: [\"Total Project Cost: \", formatCurrency(result.calculation.totalCost)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1461,\n                  columnNumber: 21\n                }, this), result.calculation.costSummary && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"bg-blue-50 border border-blue-200 rounded p-3 text-center\",\n                    children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                      className: \"font-medium text-blue-800 mb-1\",\n                      children: \"\\uD83D\\uDE9B Pure Transport\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1469,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-xl font-bold text-blue-600\",\n                      children: formatCurrency(result.calculation.costSummary.pureTransportCosts)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1470,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-xs text-blue-600 mt-1\",\n                      children: \"Logistics & Delivery\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1473,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1468,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"bg-orange-50 border border-orange-200 rounded p-3 text-center\",\n                    children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                      className: \"font-medium text-orange-800 mb-1\",\n                      children: \"\\u26FD Commodity\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1479,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-xl font-bold text-orange-600\",\n                      children: formatCurrency(result.calculation.costSummary.commodityCosts)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1480,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-xs text-orange-600 mt-1\",\n                      children: \"Fuel Purchase\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1483,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1478,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"bg-green-50 border border-green-200 rounded p-3 text-center\",\n                    children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                      className: \"font-medium text-green-800 mb-1\",\n                      children: \"\\uD83D\\uDCB0 Total Project\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1489,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-xl font-bold text-green-600\",\n                      children: formatCurrency(result.calculation.costSummary.totalProjectCosts)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1490,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-xs text-green-600 mt-1\",\n                      children: \"Complete Solution\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1493,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1488,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1467,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bg-blue-50 border border-blue-200 rounded p-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                    className: \"font-medium mb-3 text-blue-800\",\n                    children: \"\\uD83D\\uDE9B Transport & Logistics Breakdown:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1502,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"space-y-2 text-sm\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex justify-between\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        children: \"Base Transport Cost:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1505,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"font-semibold\",\n                        children: formatCurrency(result.calculation.baseCost)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1506,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1504,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex justify-between\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        children: \"Fuel Handling Fee:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1509,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        children: formatCurrency(result.calculation.costBreakdown.fuelHandlingFee)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1510,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1508,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex justify-between\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        children: \"Terminal Fees:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1513,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        children: formatCurrency(result.calculation.costBreakdown.terminalFees)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1514,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1512,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex justify-between\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        children: \"Hub Transfer Fee:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1517,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        children: formatCurrency(result.calculation.costBreakdown.hubTransferFee)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1518,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1516,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex justify-between\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        children: \"Insurance Cost:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1521,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        children: formatCurrency(result.calculation.costBreakdown.insuranceCost)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1522,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1520,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex justify-between\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        children: \"Carbon Offset:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1525,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        children: formatCurrency(result.calculation.costBreakdown.carbonOffset)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1526,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1524,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex justify-between border-t pt-2 font-bold text-blue-800\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        children: \"Total Transport:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1529,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        children: formatCurrency(result.calculation.costSummary.pureTransportCosts)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1530,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1528,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1503,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1501,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bg-orange-50 border border-orange-200 rounded p-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                    className: \"font-medium mb-3 text-orange-800\",\n                    children: \"\\u26FD Commodity Purchase Breakdown:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1537,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"space-y-2 text-sm\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex justify-between\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        children: \"Volume:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1540,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        children: [formData.volume, \" tonnes\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1541,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1539,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex justify-between\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        children: \"Market Price per Tonne:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1544,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        children: [\"$\", result.calculation.costBreakdown.commodityPricePerTonne, \"/tonne\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1545,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1543,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex justify-between border-t pt-2 font-bold text-orange-800\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        children: \"Total Commodity Cost:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1548,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        children: formatCurrency(result.calculation.costBreakdown.commodityCost)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1549,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1547,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1538,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1536,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between items-center text-sm text-gray-600 pt-4 border-t\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"Confidence Score:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1557,\n                      columnNumber: 25\n                    }, this), \" \", result.calculation.confidence, \"%\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1556,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [\"Route ID: \", result.routeId, \" | Calculated: \", formatDate(result.timestamp)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1559,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1555,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1459,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1421,\n              columnNumber: 17\n            }, this), result && result.data && !result.routeOptions && !result.calculation && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-white rounded-lg shadow-md p-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-lg font-semibold mb-4 text-green-700\",\n                children: [\"Cost Calculation Results\", ((_result$data$aiInsigh = result.data.aiInsights) === null || _result$data$aiInsigh === void 0 ? void 0 : _result$data$aiInsigh.aiUsed) && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"ml-2 text-sm bg-green-100 text-green-800 px-2 py-1 rounded\",\n                  children: \"\\uD83E\\uDD16 AI Enhanced\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1573,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1570,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-2xl font-bold text-green-600\",\n                  children: [\"Total Cost: \", formatCurrency(result.data.totalCost)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1580,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"grid grid-cols-2 gap-4 text-sm\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"Base Cost:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1586,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1586,\n                      columnNumber: 52\n                    }, this), formatCurrency(result.data.baseCost)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1585,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"Distance:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1590,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1590,\n                      columnNumber: 51\n                    }, this), result.data.distance, \" miles\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1589,\n                    columnNumber: 23\n                  }, this), result.data.trucksNeeded && /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"Trucks Needed:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1595,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1595,\n                      columnNumber: 58\n                    }, this), formatTrucks(result.data.trucksNeeded)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1594,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1584,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mt-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                    className: \"font-medium mb-2\",\n                    children: \"Cost Breakdown:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1603,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"space-y-1 text-sm\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex justify-between\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        children: \"Fuel Handling Fee:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1606,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        children: formatCurrency(result.data.costBreakdown.fuelHandlingFee)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1607,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1605,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex justify-between\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        children: \"Terminal Fees:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1610,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        children: formatCurrency(result.data.costBreakdown.terminalFees)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1611,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1609,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex justify-between\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        children: \"Hub Transfer Fee:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1614,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        children: formatCurrency(result.data.costBreakdown.hubTransferFee)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1615,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1613,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex justify-between\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        children: \"Insurance Cost:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1618,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        children: formatCurrency(result.data.costBreakdown.insuranceCost)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1619,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1617,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex justify-between\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        children: \"Carbon Offset:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1622,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        children: formatCurrency(result.data.costBreakdown.carbonOffset)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1623,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1621,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1604,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1602,\n                  columnNumber: 21\n                }, this), result.data.legs && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mt-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                    className: \"font-medium mb-2\",\n                    children: \"Route Details:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1631,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"space-y-1 text-sm\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [\"Leg 1: \", result.data.legs.leg1.distance, \" miles via \", result.data.legs.leg1.mode, \" - \", formatCurrency(result.data.legs.leg1.cost)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1633,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [\"Leg 2: \", result.data.legs.leg2.distance, \" miles via \", result.data.legs.leg2.mode, \" - \", formatCurrency(result.data.legs.leg2.cost)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1634,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1632,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1630,\n                  columnNumber: 23\n                }, this), ((_result$data$aiInsigh2 = result.data.aiInsights) === null || _result$data$aiInsigh2 === void 0 ? void 0 : _result$data$aiInsigh2.recommendation) && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mt-4 p-3 bg-blue-50 border border-blue-200 rounded\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                    className: \"font-medium mb-1 text-blue-800\",\n                    children: \"\\uD83E\\uDD16 AI Insights:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1642,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-blue-700 text-sm\",\n                    children: result.data.aiInsights.recommendation\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1643,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1641,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-xs text-gray-500 mt-4\",\n                  children: [\"Confidence: \", result.data.confidence, \"% | Calculated: \", formatDate(result.data.timestamp)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1647,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1579,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1569,\n              columnNumber: 17\n            }, this), routeHistory.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-white rounded-lg shadow-md p-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-lg font-semibold mb-4\",\n                children: \"Recent Calculations\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1657,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-3 max-h-64 overflow-y-auto\",\n                children: routeHistory.slice(0, 5).map(route => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"border-b pb-2 last:border-b-0\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex justify-between items-start\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-sm\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"font-medium\",\n                        children: [route.origin, \" \\u2192 \", route.destination]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1663,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"text-gray-600\",\n                        children: [route.volume, \" tonnes \", route.fuelType]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1666,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1662,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-right text-sm\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"font-bold text-green-600\",\n                        children: formatCurrency(route.calculatedCost)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1671,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"text-gray-500 text-xs\",\n                        children: formatDate(route.timestamp)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1674,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1670,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1661,\n                    columnNumber: 25\n                  }, this)\n                }, route._id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1660,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1658,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1656,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1244,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1243,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 877,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 870,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 869,\n    columnNumber: 5\n  }, this);\n};\n_s(FuelRouteApp, \"6qxJtdg+PANpp4aUYBsvkj3J23E=\");\n_c = FuelRouteApp;\nexport default FuelRouteApp;\nvar _c;\n$RefreshReg$(_c, \"FuelRouteApp\");","map":{"version":3,"names":["React","useState","useEffect","RouteMap","CostComparisonChart","jsxDEV","_jsxDEV","API_BASE_URL","makeRequest","endpoint","options","url","defaultOptions","headers","response","fetch","ok","errorData","json","catch","Error","error","status","console","checkApiHealth","getFuelTypes","getRouteHistory","calculateRouteCost","routeData","method","body","JSON","stringify","getRouteVisualization","routeOptions","origin","destination","fuelType","getLocationsData","FuelRouteApp","backendAPI","apiStatus","_s","_locationSuggestions$","_result$calculation","_result$data$aiInsigh","_result$data$aiInsigh2","formData","setFormData","volume","volumeUnit","intermediateHub","transportMode1","transportMode2","preference","result","setResult","loading","setLoading","setError","validationErrors","setValidationErrors","fuelTypes","setFuelTypes","routeHistory","setRouteHistory","localApiStatus","setLocalApiStatus","routeInsights","setRouteInsights","locationSuggestions","setLocationSuggestions","aiValidating","setAiValidating","mapData","setMapData","routeVisualizations","selectedRoute","showMap","locations","commonLocations","volumeUnits","value","label","factor","transportModes","suitable","initializeApp","isConnected","fuelTypesResponse","data","historyResponse","loadMapData","Array","isArray","length","log","mapResponse","success","visualizations","prev","handleMapRouteSelect","_result$routeOptions","id","matchingRouteOption","find","route","name","calculateDetailedCost","validateRoute","validateLocationBasic","location","fieldName","isValid","some","validLocation","toLowerCase","includes","suggestions","matchedLocation","valid","corrected","newErrors","generateLocationInsights","transportMode","_result$transportMode","_result$transportMode2","_result$transportMode3","insights","push","infrastructure","fuelRequirements","reqs","requirements","warnings","map","w","setLocationBasicValidation","region","type","state","locationLower","errors","originInfo","destInfo","routeType","parseFloat","_volumeUnits$find","volumeInTonnes","u","_volumeUnits$find2","transport","handleInputChange","e","target","isShortRoute","dest","californiaRoutes","isCaliforniaRoute","city1","city2","northeastRoutes","isNortheastRoute","southeastRoutes","isSoutheastRoute","gulfRoutes","isGulfRoute","pacificNorthwestRoutes","isPacificNorthwestRoute","midwestRoutes","isMidwestRoute","midAtlanticRoutes","isMidAtlanticRoute","isDomestic","country","originRegion","destRegion","originCountry","destCountry","usStates","usCities","originUS","city","destUS","shouldShowSecondTransportMode","hasIntermediateHub","trim","isShort","shouldShow","handleSubmit","mode","_volumeUnits$find3","loc","Object","assign","keys","requestData","requestType","calculateCost","refreshHistory","_historyResponse$data","message","selectedRouteOption","_volumeUnits$find4","estimatedCost","detailedResponse","_historyResponse$data2","formatCurrency","amount","Intl","NumberFormat","style","currency","format","formatDate","dateString","Date","toLocaleString","formatTrucks","count","currentApiStatus","ApiStatusIndicator","className","children","fileName","_jsxFileName","lineNumber","columnNumber","animationDelay","animationDuration","onChange","required","charAt","toUpperCase","slice","min","step","placeholder","unit","_volumeUnits$find5","truckCapacities","hydrogen","methanol","ammonia","gasoline","diesel","ethanol","maxCapacity","trucksNeeded","Math","max","ceil","utilizationPercent","round","toFixed","list","index","onClick","disabled","Fragment","aiEnhanced","aiRecommendation","processingInfo","r","aiFactors","filter","searchQuery","from","to","uniqueRoutes","seenRoutes","Set","forEach","option","_option$transportMode","routeKey","join","distance","has","add","originalIndex","uniqueIndex","_option$costBreakdown","_option$costBreakdown2","_option$costBreakdown3","recommended","mapRoute","estimatedTime","riskLevel","costBreakdown","totalCost","transportCost","commodityCost","routes","calculation","description","onRouteSelect","showAllRoutes","height","costSummary","pureTransportCosts","commodityCosts","totalProjectCosts","baseCost","fuelHandlingFee","terminalFees","hubTransferFee","insuranceCost","carbonOffset","commodityPricePerTonne","confidence","routeId","timestamp","aiInsights","aiUsed","legs","leg1","cost","leg2","recommendation","calculatedCost","_id","_c","$RefreshReg$"],"sources":["/Users/saloniangre/FuelRoutePro-Thampico/frontend/src/components/FuelRouteApp.js"],"sourcesContent":["//frontend/src/components/FuelRouteApp.js - ERROR FIXES ONLY\nimport React, { useState, useEffect } from 'react';\nimport RouteMap from './RouteMap';\nimport CostComparisonChart from './CostComparisonChart';\nimport './RouteMap.css';\n\n// API Service - inlined to avoid external imports\nconst API_BASE_URL = 'http://localhost:5001/api';\n\nconst makeRequest = async (endpoint, options = {}) => {\n  const url = `${API_BASE_URL}${endpoint}`;\n  \n  const defaultOptions = {\n    headers: {\n      'Content-Type': 'application/json',\n      ...options.headers,\n    },\n  };\n\n  try {\n    const response = await fetch(url, { ...defaultOptions, ...options });\n    \n    if (!response.ok) {\n      const errorData = await response.json().catch(() => ({}));\n      throw new Error(errorData.error || `HTTP error! status: ${response.status}`);\n    }\n    \n    return await response.json();\n  } catch (error) {\n    console.error('API request failed:', error);\n    throw error;\n  }\n};\n\n// API functions\nconst checkApiHealth = () => makeRequest('/health');\nconst getFuelTypes = () => makeRequest('/fuel-types');\nconst getRouteHistory = () => makeRequest('/routes');\nconst calculateRouteCost = (routeData) => makeRequest('/calculate-cost', {\n  method: 'POST',\n  body: JSON.stringify(routeData),\n});\n\n// Add these new API functions after your existing API functions\nconst getRouteVisualization = (routeOptions, routeData) => \n  makeRequest('/routing/visualization', {\n    method: 'POST',\n    body: JSON.stringify({ \n      routeOptions, \n      origin: routeData.origin, \n      destination: routeData.destination,\n      fuelType: routeData.fuelType \n    }),\n  });\n\nconst getLocationsData = () => makeRequest('/routing/locations');\n\nconst FuelRouteApp = ({ backendAPI, apiStatus }) => {\n  // Form state\n  const [formData, setFormData] = useState({\n    fuelType: 'hydrogen',\n    volume: '',\n    volumeUnit: 'tonnes',\n    origin: '',\n    destination: '',\n    intermediateHub: '',\n    transportMode1: 'truck',\n    transportMode2: 'truck',\n    preference: 'cost',\n  });\n\n  // App state\n  const [result, setResult] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [validationErrors, setValidationErrors] = useState({});\n  const [fuelTypes, setFuelTypes] = useState(['hydrogen', 'methanol', 'ammonia']);\n  const [routeHistory, setRouteHistory] = useState([]);\n  const [localApiStatus, setLocalApiStatus] = useState('checking');\n  const [routeInsights, setRouteInsights] = useState('');\n  const [locationSuggestions, setLocationSuggestions] = useState({});\n  const [aiValidating, setAiValidating] = useState(false);\n  const [mapData, setMapData] = useState({\n    routeVisualizations: [],\n    selectedRoute: null,\n    showMap: false,\n    locations: []\n  });\n\n  // AI-powered location suggestions (common locations for quick selection)\n  // 1. UPDATE: Replace your existing commonLocations array (around line 40-80)\n  const commonLocations = [\n    // Gulf Coast Ports\n    'Houston, TX',\n    'New Orleans, LA',\n    'Mobile, AL',\n    'Tampa Bay, FL',\n    \n    // Southeast Atlantic Ports  \n    'Savannah, GA',\n    'Jacksonville, FL',\n    'Miami, FL',\n    \n    // Northeast Corridor Ports\n    'New York/NJ',\n    'Philadelphia, PA',\n    'Norfolk, VA',\n    'Boston, MA',\n    \n    // West Coast Ports\n    'Long Beach, CA',\n    'Los Angeles, CA',\n    'Seattle, WA',\n    'Portland, OR',\n    'San Francisco/Oakland, CA',\n    \n    // Inland Transportation Hubs\n    'Chicago, IL',\n    'St. Louis, MO',\n    'Memphis, TN',\n    'Duluth-Superior, MN/WI'\n  ];\n\n  const volumeUnits = [\n    { value: 'tonnes', label: 'Tonnes (metric tons)', factor: 1 },\n    { value: 'kg', label: 'Kilograms', factor: 0.001 },\n    { value: 'liters', label: 'Liters', factor: 0.001 }, // Approximate for liquid fuels\n    { value: 'gallons', label: 'Gallons (US)', factor: 0.00378 }\n  ];\n\n  const transportModes = [\n    { value: 'truck', label: 'Truck', suitable: ['local', 'regional'] },\n    { value: 'rail', label: 'Rail', suitable: ['regional', 'continental'] }\n  ];\n\n  // Check API health on component mount\n  useEffect(() => {\n    const initializeApp = async () => {\n      try {\n        if (backendAPI && backendAPI.isConnected) {\n          setLocalApiStatus('connected');\n          setFuelTypes(backendAPI.fuelTypes || ['hydrogen', 'methanol', 'ammonia']);\n          setRouteHistory(backendAPI.routeHistory || []);\n        } else {\n          await checkApiHealth();\n          setLocalApiStatus('connected');\n\n          const fuelTypesResponse = await getFuelTypes();\n          setFuelTypes(fuelTypesResponse.data || ['hydrogen', 'methanol', 'ammonia']);\n\n          const historyResponse = await getRouteHistory();\n          setRouteHistory(historyResponse.data || []);\n        }\n      } catch (error) {\n        console.error('Failed to initialize app:', error);\n        setLocalApiStatus('error');\n        setError('Unable to connect to backend server. Make sure it\\'s running on port 5001.');\n        // Ensure fuel types are always available even if API fails\n        setFuelTypes(['hydrogen', 'methanol', 'ammonia']);\n      }\n    };\n\n    initializeApp();\n  }, [backendAPI]);\n\n  // Add this new useEffect after your existing useEffect hooks (around line 80)\nuseEffect(() => {\n  const loadMapData = async () => {\n    if (result && result.routeOptions && Array.isArray(result.routeOptions) && result.routeOptions.length > 0) {\n      try {\n        console.log('ðŸ—ºï¸ Loading route visualization data...');\n        \n        const mapResponse = await getRouteVisualization(result.routeOptions, formData);\n        \n        if (mapResponse.success && mapResponse.visualizations) {\n          setMapData(prev => ({\n            ...prev,\n            routeVisualizations: mapResponse.visualizations,\n            showMap: true,\n            selectedRoute: mapResponse.visualizations[0] || null\n          }));\n          console.log('âœ… Map data loaded:', mapResponse.visualizations.length, 'routes');\n        }\n      } catch (error) {\n        console.error('âŒ Failed to load map data:', error);\n        // Map is optional - don't show error to user\n      }\n    } else {\n      setMapData(prev => ({ ...prev, showMap: false, routeVisualizations: [] }));\n    }\n  };\n\n  loadMapData();\n}, [result, formData.origin, formData.destination, formData.fuelType]);\n\n// Add this function after your existing helper functions (around line 200)\nconst handleMapRouteSelect = (selectedRoute) => {\n  console.log('ðŸ—ºï¸ Map route selected:', selectedRoute.id);\n  setMapData(prev => ({ ...prev, selectedRoute }));\n  \n  // Find matching route option and trigger detailed calculation\n  const matchingRouteOption = result.routeOptions?.find(route => \n    route.id === selectedRoute.id || route.name === selectedRoute.name\n  );\n  \n  if (matchingRouteOption) {\n    calculateDetailedCost(matchingRouteOption);\n  }\n};\n  // Track route history changes\n  useEffect(() => {\n    console.log('ðŸ”„ Route history state updated:', routeHistory.length, 'entries');\n  }, [routeHistory]);\n\n  // Route validation and insights\n  useEffect(() => {\n    if (formData.origin && formData.destination) {\n      validateRoute();\n    }\n  }, [formData.origin, formData.destination, formData.intermediateHub, formData.volume, formData.volumeUnit, locationSuggestions]);\n\n  // REPLACE with this simple validation:\nconst validateLocationBasic = (location, fieldName) => {\n  const isValid = commonLocations.some(validLocation => \n    validLocation.toLowerCase().includes(location.toLowerCase()) ||\n    location.toLowerCase().includes(validLocation.toLowerCase())\n  );\n  \n  const suggestions = { ...locationSuggestions };\n  \n  if (isValid) {\n    const matchedLocation = commonLocations.find(validLocation => \n      validLocation.toLowerCase().includes(location.toLowerCase()) ||\n      location.toLowerCase().includes(validLocation.toLowerCase())\n    );\n    \n    suggestions[fieldName] = {\n      valid: true,\n      corrected: matchedLocation || location\n    };\n    \n    setValidationErrors(prev => {\n      const newErrors = { ...prev };\n      delete newErrors[fieldName];\n      return newErrors;\n    });\n  } else {\n    suggestions[fieldName] = {\n      valid: false,\n      error: 'Please select from the 20 major US ports/hubs'\n    };\n  }\n  \n  setLocationSuggestions(suggestions);\n};\n  \n  // âœ… NEW: Generate location insights based on validation results\n  const generateLocationInsights = (result, transportMode, fuelType) => {\n    const insights = [];\n    \n    // Transport mode insights\n    if (!result.transportMode?.suitable) {\n      insights.push(`âš ï¸ ${transportMode} transport may not be available at this location`);\n    } else if (result.transportMode.infrastructure === 'major_port') {\n      insights.push('Major port facility');\n    } else if (result.transportMode.infrastructure === 'major_rail_hub') {\n      insights.push(`ðŸš‚ Major rail hub - excellent for rail transport`);\n    }\n    \n    // Fuel-specific insights\n    if (result.fuelRequirements) {\n      const reqs = result.fuelRequirements.requirements;\n      if (fuelType === 'hydrogen') {\n        insights.push('â„ï¸ Cryogenic facilities required for hydrogen');\n      } else if (fuelType === 'ammonia') {\n        insights.push(`ðŸ§Š Refrigerated storage required for ammonia`);\n      }\n    }\n    \n    // Warnings\n    if (result.transportMode?.warnings?.length > 0) {\n      insights.push(...result.transportMode.warnings.map(w => `âš ï¸ ${w}`));\n    }\n    \n    return insights;\n  };\n\n  const setLocationBasicValidation = (location, fieldName) => {\n    // Enhanced fallback validation for the 20 US port/hub locations\n    const isValid = commonLocations.some(validLocation => \n      validLocation.toLowerCase().includes(location.toLowerCase()) ||\n      location.toLowerCase().includes(validLocation.toLowerCase())\n    );\n    \n    const suggestions = { ...locationSuggestions };\n    \n    if (isValid) {\n      // Find the matching location from our list\n      const matchedLocation = commonLocations.find(validLocation => \n        validLocation.toLowerCase().includes(location.toLowerCase()) ||\n        location.toLowerCase().includes(validLocation.toLowerCase())\n      );\n      \n      let region = 'Unknown';\n      let type = 'port';\n      let state = '';\n      \n      // Determine region based on location\n      const locationLower = location.toLowerCase();\n      if (locationLower.includes('houston') || locationLower.includes('new orleans') || \n          locationLower.includes('mobile') || locationLower.includes('tampa')) {\n        region = 'Gulf Coast';\n      } else if (locationLower.includes('savannah') || locationLower.includes('jacksonville') || \n                 locationLower.includes('miami')) {\n        region = 'Southeast';\n      } else if (locationLower.includes('new york') || locationLower.includes('philadelphia') || \n                 locationLower.includes('norfolk') || locationLower.includes('boston')) {\n        region = 'Northeast';\n      } else if (locationLower.includes('long beach') || locationLower.includes('los angeles') || \n                 locationLower.includes('seattle') || locationLower.includes('portland') || \n                 locationLower.includes('san francisco') || locationLower.includes('oakland')) {\n        region = 'West Coast';\n      } else if (locationLower.includes('chicago') || locationLower.includes('st. louis') || \n                 locationLower.includes('memphis') || locationLower.includes('duluth')) {\n        region = 'Inland';\n      }\n      \n      // Extract state\n      if (locationLower.includes('tx')) state = 'TX';\n      else if (locationLower.includes('la')) state = 'LA';\n      else if (locationLower.includes('al')) state = 'AL';\n      else if (locationLower.includes('fl')) state = 'FL';\n      else if (locationLower.includes('ga')) state = 'GA';\n      else if (locationLower.includes('ny')) state = 'NY';\n      else if (locationLower.includes('nj')) state = 'NJ';\n      else if (locationLower.includes('pa')) state = 'PA';\n      else if (locationLower.includes('va')) state = 'VA';\n      else if (locationLower.includes('ma')) state = 'MA';\n      else if (locationLower.includes('ca')) state = 'CA';\n      else if (locationLower.includes('wa')) state = 'WA';\n      else if (locationLower.includes('or')) state = 'OR';\n      else if (locationLower.includes('il')) state = 'IL';\n      else if (locationLower.includes('mo')) state = 'MO';\n      else if (locationLower.includes('tn')) state = 'TN';\n      else if (locationLower.includes('mn')) state = 'MN';\n      else if (locationLower.includes('wi')) state = 'WI';\n      \n      // Determine type\n      if (locationLower.includes('chicago') || locationLower.includes('st. louis') || \n          locationLower.includes('memphis') || locationLower.includes('duluth')) {\n        type = 'hub';\n      }\n      \n      suggestions[fieldName] = {\n        valid: true,\n        corrected: matchedLocation || location,\n        region: region,\n        type: type,\n        state: state\n      };\n      \n      // Clear validation errors for this field when location is valid\n      setValidationErrors(prev => {\n        const newErrors = { ...prev };\n        delete newErrors[fieldName];\n        return newErrors;\n      });\n    } else {\n      suggestions[fieldName] = {\n        valid: false,\n        error: 'Please select a location from the list of 20 major US ports/hubs'\n      };\n    }\n    \n    setLocationSuggestions(suggestions);\n  };\n\n  const validateRoute = () => {\n    const errors = {};\n    let insights = '';\n    \n    if (formData.origin && formData.destination) {\n      // Check if origin and destination are the same\n      if (formData.origin.toLowerCase() === formData.destination.toLowerCase()) {\n        errors.destination = 'Destination cannot be the same as origin';\n      }\n      \n      const originInfo = locationSuggestions.origin;\n      const destInfo = locationSuggestions.destination;\n      \n      // AI-enhanced route type calculation\n      let routeType = 'unknown';\n      if (originInfo && destInfo && originInfo.valid && destInfo.valid) {\n        if (originInfo.region === destInfo.region) {\n          routeType = 'regional';\n        } else if (originInfo.region !== destInfo.region) {\n          routeType = 'long';\n        }\n        \n        // Enhanced insights based on AI analysis\n        const volume = parseFloat(formData.volume);\n        const volumeUnit = formData.volumeUnit;\n        \n        if (volume > 0) {\n          const volumeInTonnes = volume * (volumeUnits.find(u => u.value === volumeUnit)?.factor || 1);\n          \n          if (routeType === 'regional' && volumeInTonnes <= 5) {\n            insights = `ðŸš› Short distance within ${originInfo.region}: Truck transport recommended for cost efficiency.`;\n          } else if (volumeInTonnes > 10) {\n            insights = `ðŸš¢ For 10+ tonnes: Rail transport recommended for cost efficiency and environmental benefits. Large volumes benefit from bulk transport modes with lower per-unit costs.`;\n          } else if (routeType === 'long') {\n            insights = `Long route (${originInfo.region} â†’ ${destInfo.region}): Rail transport recommended via intermediate hub for optimal cost and safety.`;\n          } else if (volumeInTonnes > 15) {\n            insights = `ðŸš† Large volume transport: Consider rail for cost efficiency.`;\n          }\n          \n          // Add fuel-specific insights\n          if (formData.fuelType === 'hydrogen') {\n            insights += ' Hydrogen requires specialized cryogenic handling protocols.';\n          } else if (formData.fuelType === 'ammonia') {\n            insights += ' Ammonia transport requires specialized safety and ventilation systems.';\n          }\n        }\n      } else {\n        // Fallback to basic validation for non-AI validated locations\n        const volume = parseFloat(formData.volume);\n        const volumeUnit = formData.volumeUnit;\n        \n        if (volume > 0) {\n          const volumeInTonnes = volume * (volumeUnits.find(u => u.value === volumeUnit)?.factor || 1);\n          \n          if (volumeInTonnes <= 5) {\n            insights = 'Small volume: Truck transport typically most cost-effective for shorter distances.';\n          } else if (volumeInTonnes > 10) {\n            insights = 'For 10+ tonnes: Rail transport recommended for cost efficiency and environmental benefits.';\n          }\n        }\n      }\n      \n      // Validate transport modes with AI insights\n      if (routeType === 'long' && formData.transportMode1 === 'truck' && !formData.intermediateHub) {\n        errors.transport = 'Long truck transport requires an intermediate hub or consider rail transport for cross-continental delivery';\n      }\n    }\n    \n    setValidationErrors(errors);\n    setRouteInsights(insights);\n  };\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n    \n    // Clear specific validation errors when user starts fixing them\n    if (validationErrors[name]) {\n      setValidationErrors(prev => ({\n        ...prev,\n        [name]: ''\n      }));\n    }\n    \n    if (['origin', 'destination', 'intermediateHub'].includes(name) && value.length > 2) {\n      validateLocationBasic(value, name);\n    }\n  };\n\n  // FIXED: Enhanced isShortRoute function with improved California detection\n  // REPLACE the isShortRoute() function in FuelRouteApp.js with this enhanced version\n\n  const isShortRoute = () => {\n    if (!formData.origin || !formData.destination) return false;\n  \n    const origin = formData.origin.toLowerCase();\n    const dest = formData.destination.toLowerCase();\n  \n    console.log('ðŸ” Route check:', { origin, dest });\n  \n  // **PRIORITY 1: California Routes (Same State - Most Common)**\n    const californiaRoutes = [\n      ['los angeles', 'long beach'],        // ~20 miles - VERY SHORT\n      ['los angeles', 'san francisco'],     // ~380 miles\n      ['los angeles', 'oakland'],           // ~380 miles  \n      ['long beach', 'san francisco'],      // ~400 miles\n      ['long beach', 'oakland'],            // ~400 miles\n      ['san francisco', 'oakland'],         // ~15 miles - VERY SHORT\n    ];\n  \n    const isCaliforniaRoute = californiaRoutes.some(([city1, city2]) => \n      (origin.includes(city1) && dest.includes(city2)) ||\n      (origin.includes(city2) && dest.includes(city1))\n    );\n  \n    if (isCaliforniaRoute) {\n      console.log('âœ… California short route detected');\n      return true;\n    }\n  \n  // **PRIORITY 2: Northeast Corridor (Very Close)**\n    const northeastRoutes = [\n      ['new york', 'philadelphia'],        // ~95 miles\n      ['new york', 'boston'],              // ~215 miles\n      ['philadelphia', 'boston'],          // ~300 miles\n    ];\n  \n    const isNortheastRoute = northeastRoutes.some(([city1, city2]) => \n      (origin.includes(city1) && dest.includes(city2)) ||\n      (origin.includes(city2) && dest.includes(city1))\n    );\n  \n    if (isNortheastRoute) {\n      console.log('âœ… Northeast corridor short route detected');\n      return true;\n    }\n  \n  // **PRIORITY 3: Southeast Coast (Regional)**\n    const southeastRoutes = [\n      ['tampa', 'miami'],                   // ~280 miles\n      ['jacksonville', 'miami'],           // ~350 miles\n      ['savannah', 'jacksonville'],        // ~140 miles\n      ['tampa', 'jacksonville'],           // ~200 miles\n    ];\n  \n    const isSoutheastRoute = southeastRoutes.some(([city1, city2]) => \n      (origin.includes(city1) && dest.includes(city2)) ||\n      (origin.includes(city2) && dest.includes(city1))\n    );\n  \n    if (isSoutheastRoute) {\n      console.log('âœ… Southeast regional short route detected');\n      return true;\n    }\n  \n  // **PRIORITY 4: Gulf Coast (Regional)**\n    const gulfRoutes = [\n      ['houston', 'new orleans'],          // ~350 miles\n      ['new orleans', 'mobile'],           // ~150 miles\n      ['houston', 'mobile'],               // ~350 miles\n    ];\n  \n    const isGulfRoute = gulfRoutes.some(([city1, city2]) => \n      (origin.includes(city1) && dest.includes(city2)) ||\n      (origin.includes(city2) && dest.includes(city1))\n    );\n  \n    if (isGulfRoute) {\n      console.log('âœ… Gulf coast short route detected');\n      return true;\n    }\n  \n  // **PRIORITY 5: Pacific Northwest (Regional)**\n    const pacificNorthwestRoutes = [\n      ['seattle', 'portland'],             // ~170 miles\n    ];\n  \n    const isPacificNorthwestRoute = pacificNorthwestRoutes.some(([city1, city2]) => \n      (origin.includes(city1) && dest.includes(city2)) ||\n      (origin.includes(city2) && dest.includes(city1))\n    );\n  \n    if (isPacificNorthwestRoute) {\n      console.log('âœ… Pacific Northwest short route detected');\n      return true;\n    }\n  \n  // **PRIORITY 6: Midwest/Great Lakes (Regional)**\n    const midwestRoutes = [\n      ['chicago', 'st. louis'],            // ~300 miles\n      ['chicago', 'memphis'],              // ~530 miles\n      ['memphis', 'st. louis'],            // ~300 miles\n      ['chicago', 'duluth'],               // ~350 miles\n      ['chicago', 'superior'],             // ~350 miles\n    ];\n  \n    const isMidwestRoute = midwestRoutes.some(([city1, city2]) => \n      (origin.includes(city1) && dest.includes(city2)) ||\n      (origin.includes(city2) && dest.includes(city1))\n    );\n  \n    if (isMidwestRoute) {\n      console.log('âœ… Midwest regional short route detected');\n      return true;\n    }\n  \n  // **PRIORITY 7: Mid-Atlantic (Regional)**\n    const midAtlanticRoutes = [\n      ['norfolk', 'philadelphia'],         // ~300 miles\n      ['norfolk', 'new york'],             // ~350 miles\n    ];\n  \n    const isMidAtlanticRoute = midAtlanticRoutes.some(([city1, city2]) => \n      (origin.includes(city1) && dest.includes(city2)) ||\n      (origin.includes(city2) && dest.includes(city1))\n    );\n  \n    if (isMidAtlanticRoute) {\n      console.log('âœ… Mid-Atlantic short route detected');\n      return true;\n    }\n  \n  // **FALLBACK: Check AI validation if available**\n    const originInfo = locationSuggestions.origin;\n    const destInfo = locationSuggestions.destination;\n  \n    if (originInfo && destInfo && originInfo.valid && destInfo.valid) {\n      const isDomestic = originInfo.region === destInfo.region && \n                        originInfo.country === destInfo.country;\n    \n      console.log('ðŸ¤– AI route check:', { \n        originRegion: originInfo.region, \n        destRegion: destInfo.region,\n        originCountry: originInfo.country,\n        destCountry: destInfo.country,\n        isDomestic \n      });\n    \n      return isDomestic;\n    }\n  \n  // **FINAL FALLBACK: General US domestic detection**\n    const usStates = ['ca', 'california', 'wa', 'washington', 'ny', 'new york', 'texas', 'tx', \n                    'florida', 'fl', 'illinois', 'il', 'oregon', 'or', 'massachusetts', 'ma',\n                    'pennsylvania', 'pa', 'virginia', 'va', 'georgia', 'ga', 'louisiana', 'la',\n                    'alabama', 'al', 'missouri', 'mo', 'tennessee', 'tn', 'minnesota', 'mn', \n                    'wisconsin', 'wi'];\n  \n    const usCities = ['los angeles', 'san francisco', 'oakland', 'seattle', 'houston', 'chicago',\n                    'new york', 'miami', 'boston', 'philadelphia', 'long beach', 'portland',\n                    'memphis', 'st. louis', 'norfolk', 'savannah', 'tampa', 'mobile', 'duluth'];\n  \n    const originUS = usStates.some(state => origin.includes(state)) || \n                    usCities.some(city => origin.includes(city)) ||\n                    origin.includes('usa') || origin.includes('united states');\n                   \n    const destUS = usStates.some(state => dest.includes(state)) || \n                  usCities.some(city => dest.includes(city)) ||\n                  dest.includes('usa') || dest.includes('united states');\n  \n    if (originUS && destUS) {\n      console.log('âœ… General Short route detected');\n      return true;\n    }\n  \n    console.log('âŒ Long route detected');\n    return false;\n  };\n\n  // FIXED: Function to determine if second transport mode should be shown\n  const shouldShowSecondTransportMode = () => {\n    const hasIntermediateHub = formData.intermediateHub && formData.intermediateHub.trim() !== '';\n    const isShort = isShortRoute();\n    \n    console.log('ðŸš¦ Transport mode check:', { hasIntermediateHub, isShort });\n    \n    // Show second transport mode ONLY if:\n    // 1. There's an actual intermediate hub provided, OR\n    // 2. It's NOT a short route (meaning it's long route) AND no intermediate hub\n    const shouldShow = hasIntermediateHub || (!isShort && !hasIntermediateHub);\n    \n    console.log('ðŸš¦ Should show second transport mode:', shouldShow);\n    return shouldShow;\n  };\n\n  // Updated handleSubmit with proper validation\n  const handleSubmit = async (mode = 'options') => {\n    setLoading(true);\n    setError('');\n    setResult(null);\n\n    try {\n      // Validate required fields\n      const errors = {};\n      \n      if (!formData.fuelType) errors.fuelType = 'Please select a fuel type';\n      if (!formData.volume) errors.volume = 'Please enter volume';\n      if (!formData.origin) errors.origin = 'Please enter origin';\n      if (!formData.destination) errors.destination = 'Please enter destination';\n      \n      // Validate locations - check if they are in the common locations list\n      if (formData.origin && !commonLocations.some(loc => \n        loc.toLowerCase() === formData.origin.toLowerCase() ||\n        loc.toLowerCase().includes(formData.origin.toLowerCase()) ||\n        formData.origin.toLowerCase().includes(loc.toLowerCase())\n      )) {\n        // Only set error if AI validation also failed\n        if (locationSuggestions.origin && locationSuggestions.origin.valid === false) {\n          errors.origin = 'Please enter a valid origin location';\n        }\n      }\n      \n      if (formData.destination && !commonLocations.some(loc => \n        loc.toLowerCase() === formData.destination.toLowerCase() ||\n        loc.toLowerCase().includes(formData.destination.toLowerCase()) ||\n        formData.destination.toLowerCase().includes(loc.toLowerCase())\n      )) {\n        // Only set error if AI validation also failed\n        if (locationSuggestions.destination && locationSuggestions.destination.valid === false) {\n          errors.destination = 'Please enter a valid destination location';\n        }\n      }\n      \n      // Only validate intermediate hub if it's actually provided\n      if (formData.intermediateHub && formData.intermediateHub.trim() !== '') {\n        if (!commonLocations.some(loc => \n          loc.toLowerCase() === formData.intermediateHub.toLowerCase() ||\n          loc.toLowerCase().includes(formData.intermediateHub.toLowerCase()) ||\n          formData.intermediateHub.toLowerCase().includes(loc.toLowerCase())\n        )) {\n          // Only set error if AI validation also failed\n          if (locationSuggestions.intermediateHub && locationSuggestions.intermediateHub.valid === false) {\n            errors.intermediateHub = 'Please enter a valid intermediate hub location';\n          }\n        }\n      }\n      \n      // Add existing validation errors (only if they exist)\n      Object.assign(errors, validationErrors);\n      \n      if (Object.keys(errors).length > 0) {\n        setValidationErrors(errors);\n        throw new Error('Please fix the validation errors above');\n      }\n\n      // Convert volume to tonnes for API\n      const volumeInTonnes = parseFloat(formData.volume) * (volumeUnits.find(u => u.value === formData.volumeUnit)?.factor || 1);\n\n      // Prepare data for API\n      const requestData = {\n        ...formData,\n        volume: volumeInTonnes, // Always send in tonnes to backend\n        volumeUnit: 'tonnes', // Backend expects tonnes\n        requestType: mode, // 'options' for multiple routes, 'single' for best recommendation\n        preference: formData.preference\n      };\n\n      console.log(`Sending ${mode} request:`, requestData);\n\n      if (backendAPI && backendAPI.isConnected && apiStatus === 'connected') {\n        console.log(`ðŸ¤– Using backend AI calculation (${mode} mode)...`);\n        const response = await backendAPI.calculateCost(requestData);\n        \n        console.log('Received response:', response);\n        setResult(response);\n\n        if (backendAPI.refreshHistory) {\n          await backendAPI.refreshHistory();\n        }\n      } else {\n        console.log(`ðŸ”§ Using direct API call (${mode} mode)...`);\n        const response = await calculateRouteCost(requestData);\n        \n        console.log('Received response:', response);\n        setResult(response);\n\n        const historyResponse = await getRouteHistory();\n        console.log('ðŸ“Š Route history updated:', historyResponse.data?.length || 0, 'entries');\n        setRouteHistory(historyResponse.data || []);\n      }\n\n    } catch (error) {\n      setError(error.message);\n      console.error('Calculation failed:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // âœ… FIXED: calculateDetailedCost function with proper debugging and variable declaration\n  const calculateDetailedCost = async (selectedRouteOption) => {\n    setLoading(true);\n    setError('');\n\n    try {\n      console.log('ðŸ” FRONTEND DEBUG - Selected route option:');\n      console.log('   - ID:', selectedRouteOption.id);\n      console.log('   - Name:', selectedRouteOption.name);\n      console.log('   - Transport modes:', selectedRouteOption.transportModes);\n      console.log('   - Estimated cost:', selectedRouteOption.estimatedCost);\n      console.log('ðŸŽ¯ Getting detailed cost for route:', selectedRouteOption.id);\n\n      // Convert volume to tonnes for API\n      const volumeInTonnes = parseFloat(formData.volume) * (volumeUnits.find(u => u.value === formData.volumeUnit)?.factor || 1);\n\n      // Prepare data for detailed calculation\n      const requestData = {\n        ...formData,\n        volume: volumeInTonnes,\n        volumeUnit: 'tonnes',\n        requestType: 'single', // This tells backend to return detailed calculation\n        selectedRoute: selectedRouteOption,\n        preference: formData.preference\n      };\n\n      console.log('Requesting detailed calculation:', requestData);\n\n      // âœ… FIXED: Properly declare detailedResponse variable\n      let detailedResponse;\n      if (backendAPI && backendAPI.isConnected && apiStatus === 'connected') {\n        console.log('ðŸ¤– Using backend API for detailed calculation...');\n        detailedResponse = await backendAPI.calculateCost(requestData);\n      } else {\n        console.log('ðŸ”§ Using direct API call for detailed calculation...');\n        detailedResponse = await calculateRouteCost(requestData);\n      }\n\n      console.log('Detailed calculation response:', detailedResponse);\n\n      // Update result to show detailed calculation\n      setResult(detailedResponse);\n\n      // Refresh history\n      if (backendAPI && backendAPI.refreshHistory) {\n        await backendAPI.refreshHistory();\n      } else {\n        const historyResponse = await getRouteHistory();\n        console.log('ðŸ“Š Detailed calc - Route history updated:', historyResponse.data?.length || 0, 'entries');\n        setRouteHistory(historyResponse.data || []);\n      }\n\n    } catch (error) {\n      setError(`Failed to get detailed calculation: ${error.message}`);\n      console.error('Detailed calculation failed:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const formatCurrency = (amount) => {\n    return new Intl.NumberFormat('en-US', {\n      style: 'currency',\n      currency: 'USD'\n    }).format(amount);\n  };\n\n  const formatDate = (dateString) => {\n    return new Date(dateString).toLocaleString();\n  };\n\n  const formatTrucks = (count) => {\n    if (!count) return '';\n    return count === 1 ? '1 truck' : `${count} trucks`;\n  };\n\n  const currentApiStatus = apiStatus || localApiStatus;\n\n  // API Status indicator with AI enhancement\n  const ApiStatusIndicator = () => (\n    <div className={`flex items-center gap-2 mb-4 p-2 rounded ${\n      currentApiStatus === 'connected' ? 'bg-green-100 text-green-800' :\n      currentApiStatus === 'error' ? 'bg-red-100 text-red-800' :\n      'bg-yellow-100 text-yellow-800'\n    }`}>\n      <div className={`w-2 h-2 rounded-full ${\n        currentApiStatus === 'connected' ? 'bg-green-500' :\n        currentApiStatus === 'error' ? 'bg-red-500' :\n        'bg-yellow-500'\n      }`}></div>\n      <span className=\"text-sm font-medium\">\n        {currentApiStatus === 'connected' ? 'Backend Connected (AI Enhanced) - 20 US Ports/Hubs' :\n        currentApiStatus === 'error' ? 'Backend Disconnected' :\n        'Checking Connection...'}\n      </span>\n    </div>\n  );\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 py-8 px-4\">\n      <div className=\"max-w-4xl mx-auto\">\n        <h1 className=\"text-3xl font-bold text-gray-900 mb-8 text-center\">\n          FuelRoute Pro Cost Calculator\n        </h1>\n        \n        <ApiStatusIndicator />\n\n        <div className=\"space-y-8\">\n          {/* Form Section */}\n          <div className=\"bg-white rounded-lg shadow-md p-6 max-w-lg mx-auto relative overflow-hidden\">\n            {/* Floating Background Circles */}\n            <div className=\"absolute inset-0 pointer-events-none\">\n              <div className=\"absolute top-4 left-8 w-12 h-12 bg-blue-100 rounded-full opacity-30 animate-bounce\" style={{animationDelay: '0s', animationDuration: '3s'}}></div>\n              <div className=\"absolute top-16 right-12 w-8 h-8 bg-green-100 rounded-full opacity-40 animate-pulse\" style={{animationDelay: '1s', animationDuration: '2s'}}></div>\n              <div className=\"absolute bottom-20 left-16 w-6 h-6 bg-purple-100 rounded-full opacity-35 animate-bounce\" style={{animationDelay: '2s', animationDuration: '4s'}}></div>\n              <div className=\"absolute bottom-8 right-8 w-10 h-10 bg-indigo-100 rounded-full opacity-25 animate-pulse\" style={{animationDelay: '0.5s', animationDuration: '3.5s'}}></div>\n              <div className=\"absolute top-32 left-4 w-4 h-4 bg-teal-100 rounded-full opacity-45 animate-bounce\" style={{animationDelay: '1.5s', animationDuration: '2.5s'}}></div>\n              <div className=\"absolute bottom-32 right-20 w-14 h-14 bg-cyan-100 rounded-full opacity-20 animate-pulse\" style={{animationDelay: '3s', animationDuration: '4s'}}></div>\n            </div>\n            \n          <h2 className=\"text-xl font-semibold mb-4 relative z-10\">Calculate Transport Cost - US Ports & Hubs</h2>\n            \n            <div className=\"space-y-6 relative z-10\">\n              {/* Fuel Type */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Fuel Type *\n                </label>\n                <select\n                  name=\"fuelType\"\n                  value={formData.fuelType}\n                  onChange={handleInputChange}\n                  className=\"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                  required\n                >\n                  {console.log('ðŸ” Fuel Types:', fuelTypes)}\n                  {fuelTypes.map(type => (\n                    <option key={type} value={type}>\n                      {type.charAt(0).toUpperCase() + type.slice(1)}\n                    </option>\n                  ))}\n                </select>\n                {validationErrors.fuelType && (\n                  <p className=\"text-red-500 text-sm mt-1\">{validationErrors.fuelType}</p>\n                )}\n              </div>\n\n              {/* Volume and Unit */}\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Volume *\n                  </label>\n                  <input\n                    type=\"number\"\n                    name=\"volume\"\n                    value={formData.volume}\n                    onChange={handleInputChange}\n                    min=\"0.1\"\n                    step=\"0.1\"\n                    className=\"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                    placeholder=\"Enter volume\"\n                    required\n                  />\n                  {validationErrors.volume && (\n                    <p className=\"text-red-500 text-sm mt-1\">{validationErrors.volume}</p>\n                  )}\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Unit\n                  </label>\n                  <select\n                    name=\"volumeUnit\"\n                    value={formData.volumeUnit}\n                    onChange={handleInputChange}\n                    className=\"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                  >\n                    {volumeUnits.map(unit => (\n                      <option key={unit.value} value={unit.value}>\n                        {unit.label}\n                      </option>\n                    ))}\n                  </select>\n                </div>\n              </div>\n\n              {/* âœ… NEW: Real-time Truck Requirements Display */}\n              {formData.volume && parseFloat(formData.volume) > 0 && formData.fuelType && (\n                <div className=\"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-lg p-3\">\n                  <div className=\"flex items-center gap-2 mb-2\">\n                    <span className=\"text-blue-600\">ðŸš›</span>\n                    <h4 className=\"font-medium text-blue-800\">Quick Truck Requirements</h4>\n                  </div>\n                  {(() => {\n                    const volumeInTonnes = parseFloat(formData.volume) * (volumeUnits.find(u => u.value === formData.volumeUnit)?.factor || 1);\n                    const truckCapacities = {\n                      hydrogen: 8,\n                      methanol: 12,\n                      ammonia: 10,\n                      gasoline: 12,\n                      diesel: 12,\n                      ethanol: 12\n                    };\n                    const maxCapacity = truckCapacities[formData.fuelType] || 10;\n                    const trucksNeeded = Math.max(1, Math.ceil(volumeInTonnes / maxCapacity));\n                    const utilizationPercent = Math.round((volumeInTonnes / (trucksNeeded * maxCapacity)) * 100);\n                    \n                    return (\n                      <div className=\"text-sm text-blue-700\">\n                        <div className=\"font-medium\">\n                          {trucksNeeded} truck{trucksNeeded > 1 ? 's' : ''} required for {volumeInTonnes.toFixed(1)} tonnes of {formData.fuelType}\n                        </div>\n                        <div className=\"text-xs mt-1\">\n                          {maxCapacity} tonnes capacity per truck â€¢ {utilizationPercent}% utilization\n                        </div>\n                      </div>\n                    );\n                  })()}\n                </div>\n              )}\n\n              {/* Origin */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Origin * {aiValidating && <span className=\"text-blue-500\">ðŸ¤– AI Validating...</span>}\n                </label>\n                <input\n                  type=\"text\"\n                  name=\"origin\"\n                  value={formData.origin}\n                  onChange={handleInputChange}\n                  className=\"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                  placeholder=\"Enter origin\"\n                  required\n                  list=\"origin-suggestions\"\n                />\n                <datalist id=\"origin-suggestions\">\n                  {commonLocations.map((location, index) => (\n                    <option key={index} value={location} />\n                  ))}\n                </datalist>\n                {locationSuggestions.origin && locationSuggestions.origin.valid && (\n                  <div className=\"mt-1 text-sm text-green-600\">\n                    âœ… {locationSuggestions.origin.corrected} \n                    {locationSuggestions.origin.country && ` (${locationSuggestions.origin.country})`}\n                    <br />\n                    <span className=\"text-xs\">\n                      ðŸ“ {locationSuggestions.origin.region} â€¢ {locationSuggestions.origin.type}\n                    </span>\n                  </div>\n                )}\n                {locationSuggestions.origin && !locationSuggestions.origin.valid && (\n                  <div className=\"mt-1 text-sm text-red-600\">\n                    âŒ {locationSuggestions.origin.error}\n                  </div>\n                )}\n                {validationErrors.origin && (\n                  <p className=\"text-red-500 text-sm mt-1\">{validationErrors.origin}</p>\n                )}\n              </div>\n\n              {/* Destination */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Destination * {aiValidating && <span className=\"text-blue-500\">ðŸ¤– AI Validating...</span>}\n                </label>\n                <input\n                  type=\"text\"\n                  name=\"destination\"\n                  value={formData.destination}\n                  onChange={handleInputChange}\n                  className=\"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                  placeholder=\"Enter destination\"\n                  required\n                  list=\"destination-suggestions\"\n                />\n                <datalist id=\"destination-suggestions\">\n                  {commonLocations.map((location, index) => (\n                    <option key={index} value={location} />\n                  ))}\n                </datalist>\n                {locationSuggestions.destination && locationSuggestions.destination.valid && (\n                  <div className=\"mt-1 text-sm text-green-600\">\n                    âœ… {locationSuggestions.destination.corrected}\n                    {locationSuggestions.destination.country && ` (${locationSuggestions.destination.country})`}\n                    <br />\n                    <span className=\"text-xs\">\n                      ðŸ“ {locationSuggestions.destination.region} â€¢ {locationSuggestions.destination.type}\n                    </span>\n                  </div>\n                )}\n                {locationSuggestions.destination && !locationSuggestions.destination.valid && (\n                  <div className=\"mt-1 text-sm text-red-600\">\n                    âŒ {locationSuggestions.destination.error}\n                  </div>\n                )}\n                {validationErrors.destination && (\n                  <p className=\"text-red-500 text-sm mt-1\">{validationErrors.destination}</p>\n                )}\n              </div>\n\n              {/* Intermediate Hub */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Intermediate Hub (Optional) {aiValidating && <span className=\"text-blue-500\">ðŸ¤– AI Validating...</span>}\n                </label>\n                <input\n                  type=\"text\"\n                  name=\"intermediateHub\"\n                  value={formData.intermediateHub}\n                  onChange={handleInputChange}\n                  className=\"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                  placeholder=\"Enter intermediate hub (optional)\"\n                  list=\"hub-suggestions\"\n                />\n                <datalist id=\"hub-suggestions\">\n                  {commonLocations.map((location, index) => (\n                    <option key={index} value={location} />\n                  ))}\n                </datalist>\n                {locationSuggestions.intermediateHub && locationSuggestions.intermediateHub.valid && (\n                  <div className=\"mt-1 text-sm text-green-600\">\n                    âœ… {locationSuggestions.intermediateHub.corrected}\n                    {locationSuggestions.intermediateHub.country && ` (${locationSuggestions.intermediateHub.country})`}\n                    <br />\n                    <span className=\"text-xs\">\n                      ðŸ“ {locationSuggestions.intermediateHub.region} â€¢ {locationSuggestions.intermediateHub.type}\n                    </span>\n                  </div>\n                )}\n                {locationSuggestions.intermediateHub && !locationSuggestions.intermediateHub.valid && (\n                  <div className=\"mt-1 text-sm text-red-600\">\n                    âŒ {locationSuggestions.intermediateHub.error}\n                  </div>\n                )}\n                {validationErrors.intermediateHub && (\n                  <p className=\"text-red-500 text-sm mt-1\">{validationErrors.intermediateHub}</p>\n                )}\n              </div>\n\n              {/* Transport Mode 1 */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Transport Mode {(formData.intermediateHub && formData.intermediateHub.trim() !== '') ? '(First Leg)' : ''}\n                </label>\n                <select\n                  name=\"transportMode1\"\n                  value={formData.transportMode1}\n                  onChange={handleInputChange}\n                  className=\"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                >\n                  {transportModes.map(mode => (\n                    <option key={mode.value} value={mode.value}>{mode.label}</option>\n                  ))}\n                </select>\n              </div>\n\n              {/* FIXED: Transport Mode 2 - Only show when actually needed */}\n              {shouldShowSecondTransportMode() ? (\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Transport Mode (Second Leg) \n                    {(formData.intermediateHub && formData.intermediateHub.trim() !== '') ? \n                      ' (To Final Destination)' : \n                      ' (Long Route)'}\n                  </label>\n                  <select\n                    name=\"transportMode2\"\n                    value={formData.transportMode2}\n                    onChange={handleInputChange}\n                    className=\"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                  >\n                    {transportModes.map(mode => (\n                      <option key={mode.value} value={mode.value}>{mode.label}</option>\n                    ))}\n                  </select>\n                  \n                  {/* Show helpful text for long routes without intermediate hub */}\n                  {!isShortRoute() && (!formData.intermediateHub || formData.intermediateHub.trim() === '') && (\n                    <p className=\"text-xs text-blue-600 mt-1\">\n                      ðŸ’¡ Long route: Rail transport recommended via intermediate hub for optimal cost and safety.\n                    </p>\n                  )}\n                </div>\n              ) : (\n                /* FIXED: Show info for short routes */\n                <div className=\"bg-green-50 border border-green-200 rounded-md p-3\">\n                  <div className=\"flex\">\n                    <div className=\"flex-shrink-0\">\n                      <span className=\"text-green-400\">âœ…</span>\n                    </div>\n                    <div className=\"ml-2\">\n                      <p className=\"text-green-700 text-sm\">\n                        <strong>Short Domestic Route Detected:</strong> Single transport mode sufficient. \n                        No intermediate hub or second transport mode required for this {locationSuggestions.origin?.region || 'domestic'} route.\n                      </p>\n                    </div>\n                  </div>\n                </div>\n              )}\n\n              {/* Route Insights */}\n              {routeInsights && (\n                <div className=\"bg-blue-50 border border-blue-200 rounded-md p-3\">\n                  <div className=\"flex\">\n                    <div className=\"flex-shrink-0\">\n                      <span className=\"text-blue-400\">ðŸ’¡</span>\n                    </div>\n                    <div className=\"ml-2\">\n                      <p className=\"text-blue-700 text-sm\">{routeInsights}</p>\n                    </div>\n                  </div>\n                </div>\n              )}\n\n              {/* Transport Error */}\n              {validationErrors.transport && (\n                <div className=\"bg-red-50 border border-red-200 rounded-md p-3\">\n                  <p className=\"text-red-700 text-sm\">{validationErrors.transport}</p>\n                </div>\n              )}\n\n              {/* Calculator Mode Selection */}\n              <div className=\"bg-gray-50 p-3 rounded-md mb-4\">\n                <div className=\"space-y-2\">\n                </div>\n              </div>\n\n              {/* Optimization Preference */}\n              <div className=\"bg-gray-50 p-3 rounded-md mb-4\">\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Optimization Preference\n                </label>\n                <select\n                  name=\"preference\"\n                  value={formData.preference}\n                  onChange={handleInputChange}\n                  className=\"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                >\n                  <option value=\"cost\">Lowest Cost</option>\n                  <option value=\"distance\">Shortest Distance</option>\n                </select>\n              </div>\n\n              {/* Submit Button */}\n              <div className=\"space-y-4 mt-6\">\n                <button\n                  onClick={() => handleSubmit('options')}\n                  disabled={loading || currentApiStatus !== 'connected' || Object.keys(validationErrors).length > 0}\n                  className=\"calculate-with-ai-btn\"\n                >\n                  <span className=\"button-text\">\n                    {loading ? 'CALCULATING WITH AI ENHANCEMENT...' : 'CALCULATE WITH AI ENHANCEMENT'}\n                  </span>\n                  {currentApiStatus === 'connected' && !loading && (\n                    <span className=\"button-subtitle\">\n                      Multiple Route Options\n                    </span>\n                  )}\n                </button>\n              </div>\n\n              {/* Error Display */}\n              {error && (\n                <div className=\"mt-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded\">\n                  {error}\n                </div>\n              )}\n            </div>\n          </div>\n\n          {/* Results Section */}\n          <div className=\"space-y-6\">\n            <React.Fragment>\n              {/* Route Options with FIXED AI Enhancement Indicators */}\n              {result && result.routeOptions && Array.isArray(result.routeOptions) && (\n                <div className=\"bg-white rounded-lg shadow-md p-6\">\n                  <h3 className=\"text-lg font-semibold mb-4 text-blue-700\">\n                    Route Options ({result.routeOptions.length} found)\n                    {result.aiEnhanced && (\n                      <span className=\"ml-2 text-sm bg-blue-100 text-blue-800 px-2 py-1 rounded\">\n                        ðŸ¤– AI Enhanced\n                      </span>\n                    )}\n                    {result.aiRecommendation && (\n                      <span className=\"ml-2 text-sm bg-green-100 text-green-800 px-2 py-1 rounded\">\n                        âœ¨ AI Optimized\n                      </span>\n                    )}\n                  </h3>\n                  \n                  {/* âœ… FIXED: AI Processing Info with accurate status */}\n                  {result.processingInfo && (\n                    <div className=\"bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-lg p-3 mb-4\">\n                      <div className=\"flex items-center gap-2 mb-2\">\n                        <span className=\"text-blue-600\">ðŸ¤–</span>\n                        <h4 className=\"font-medium text-blue-800\">AI Enhancement Status</h4>\n                      </div>\n                      <div className=\"grid grid-cols-2 gap-4 text-sm text-blue-700\">\n                        <div>\n                          <span className=\"font-medium\">Dynamic Pricing:</span> \n                          <span className=\"ml-1\">\n                            {result.routeOptions.some(r => r.aiEnhanced) ? 'âœ… Active' : 'âš ï¸ Fallback'}\n                          </span>\n                        </div>\n                        <div>\n                          <span className=\"font-medium\">Distance Calculation:</span> \n                          <span className=\"ml-1\">âœ… AI-Enhanced</span>\n                        </div>\n                        <div>\n                          <span className=\"font-medium\">Market Factors:</span> \n                          <span className=\"ml-1\">\n                            {result.routeOptions.some(r => r.aiFactors && !r.aiFactors.error) ? 'Real-time' : 'Static'}\n                          </span>\n                        </div>\n                        <div>\n                          <span className=\"font-medium\">AI-Enhanced Options:</span> \n                          <span className=\"ml-1\">\n                            {result.routeOptions.filter(r => r.aiEnhanced).length}/{result.routeOptions.length}\n                          </span>\n                        </div>\n                      </div>\n                    </div>\n                  )}\n        \n                  {/* Search Summary */}\n                  {result.searchQuery && (\n                    <div className=\"bg-gray-50 p-3 rounded mb-4 text-sm\">\n                      <strong>Search:</strong> {result.searchQuery.from} â†’ {result.searchQuery.to} | \n                      {result.searchQuery.volume} tonnes {result.searchQuery.fuelType}\n                    </div>\n                  )}\n\n                  {/* Route Options Display - Updated to Remove Cost Breakdown and Duplicates */}\n                  <div className=\"space-y-4\">\n                    {(() => {\n                      // âœ… DEDUPLICATE: Remove duplicate routes at UI level\n                      const uniqueRoutes = [];\n                      const seenRoutes = new Set();\n                      \n                      result.routeOptions.forEach((option, index) => {\n                        // Create unique key based on transport modes, distance, and cost\n                        const routeKey = `${option.transportModes?.join('-') || 'unknown'}-${Math.round((option.distance || 0)/50)*50}-${Math.round((option.estimatedCost || 0)/1000)*1000}`;\n                        \n                        if (!seenRoutes.has(routeKey)) {\n                          seenRoutes.add(routeKey);\n                          uniqueRoutes.push({ ...option, originalIndex: index });\n                        }\n                      });\n                      \n                      console.log(`ðŸ” UI Deduplication: ${result.routeOptions.length} â†’ ${uniqueRoutes.length} routes`);\n                      \n                      return uniqueRoutes.map((option, uniqueIndex) => (\n                      <div \n                        key={option.id || `unique-${uniqueIndex}`} \n                        className={`border rounded-lg p-4 transition-all cursor-pointer ${\n                          mapData.selectedRoute && mapData.selectedRoute.id === option.id\n                            ? 'border-blue-500 bg-blue-50 shadow-md' \n                            : uniqueIndex === 0 || option.recommended ? 'border-green-500 bg-green-50' : \n                              option.aiEnhanced ? 'border-blue-500 bg-blue-50' : 'border-gray-200 hover:bg-gray-50 hover:border-blue-300'\n                        }`}\n                        onClick={() => {\n                          // Add this click handler to route option cards\n                          const mapRoute = mapData.routeVisualizations.find(r => \n                            r.id === option.id || r.name === option.name\n                          );\n                          if (mapRoute) {\n                            handleMapRouteSelect(mapRoute);\n                          }\n                        }}\n                      >\n                        <div className=\"flex justify-between items-start\">\n                          <div className=\"flex-1\">\n                            <div className=\"flex items-center gap-2 mb-2 flex-wrap\">\n                              <h4 className=\"font-semibold text-gray-900\">{option.name || 'Unknown Route'}</h4>\n                              {(uniqueIndex === 0 || option.recommended) && (\n                                <span className=\"text-xs bg-green-100 text-green-800 px-2 py-1 rounded\">\n                                  ðŸŽ¯ RECOMMENDED\n                                </span>\n                              )}\n                              {option.aiEnhanced && (\n                                <span className=\"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded\">\n                                  ðŸ¤– AI ENHANCED\n                                </span>\n                              )}\n                              \n                              {/* âœ… UPDATED: Transport Only Badge */}\n                              <span className=\"text-xs bg-gray-100 text-gray-800 px-2 py-1 rounded\">\n                                ðŸš› TRANSPORT ONLY\n                              </span>\n                              {/* âœ… ADD: Map selection indicator */}\n                              {mapData.selectedRoute && mapData.selectedRoute.id === option.id && (\n                                <span className=\"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded\">\n                                  ðŸ—ºï¸ SELECTED ON MAP\n                                </span>\n                              )}\n                            </div>\n                          \n                            <div className=\"text-sm text-gray-600 space-y-1\">\n                              <div>â±ï¸ Estimated Time: {option.estimatedTime || 'Unknown'}</div>\n                              <div>ðŸ“ Distance: {option.distance || 'Unknown'} miles</div>\n                              <div>âš ï¸ Risk Level: <span className={`capitalize ${\n                                option.riskLevel === 'low' ? 'text-green-600' : \n                                option.riskLevel === 'medium' ? 'text-yellow-600' : 'text-red-600'\n                              }`}>{option.riskLevel || 'Unknown'}</span></div>\n                              \n\n                            </div>\n                          </div>\n                          \n                          <div className=\"text-right ml-4\">\n                            {/* âœ… UPDATED: Emphasize All-In Cost */}\n                            <div className=\"text-xs text-gray-500 mb-1\">BASE TRANSPORT COST</div>\n                            <div className=\"text-2xl font-bold text-green-600\">\n                              {formatCurrency(\n                                option.costBreakdown?.totalCost || \n                                option.estimatedCost || \n                                ((option.costBreakdown?.transportCost || 0) + (option.costBreakdown?.commodityCost || 0)) ||\n                                0\n                              )}\n                            </div>\n                            \n                            {option.aiEnhanced && (\n                              <div className=\"text-xs text-blue-600 mb-1\"></div>\n                            )}\n                            <div className=\"flex justify-center mt-2\">\n                              <button \n                                onClick={() => calculateDetailedCost(option)}\n                                className=\"get-details-button\"\n                              >\n                                Get Details\n                              </button>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    ));\n                    })()}\n                  </div>\n                </div>\n              )}\n\n              {result?.routeOptions && (\n                <div className=\"bg-white rounded-lg shadow-md p-6\">\n                  <CostComparisonChart routes={result.routeOptions} />\n                </div>\n              )}\n\n              {/* Detailed Calculation Results with CLEAR cost separation */}\n              {result && result.calculation && (\n                <div className=\"bg-white rounded-lg shadow-md p-6\">\n                  <h3 className=\"text-lg font-semibold mb-4 text-green-700\">\n                    Detailed Cost Calculation\n                    {result.aiEnhanced && (\n                      <span className=\"ml-2 text-sm bg-green-100 text-green-800 px-2 py-1 rounded\">\n                        ðŸ¤– AI Enhanced\n                      </span>\n                    )}\n                  </h3>\n                  \n                  {/* Selected Route Info */}\n                  {result.selectedRoute && (\n                    <div className=\"bg-blue-50 p-3 rounded mb-4\">\n                      <h4 className=\"font-medium text-blue-800\">{result.selectedRoute.name}</h4>\n                      <p className=\"text-blue-700 text-sm\">{result.selectedRoute.description}</p>\n                      { (result.selectedRoute.trucksNeeded || result.calculation?.trucksNeeded) && (\n                        <p className=\"text-blue-700 text-sm\">ðŸšš {formatTrucks(result.selectedRoute.trucksNeeded || result.calculation.trucksNeeded)}</p>\n                      )}\n                    </div>\n                  )}\n\n                  {result && result.calculation && result.selectedRoute && (\n                    <div className=\"bg-white rounded-lg shadow-md p-6 mb-6\">\n                      <h3 className=\"text-lg font-semibold mb-4 text-blue-700\">\n                        ðŸ“ Detailed Route Visualization\n                      </h3>\n                      <RouteMap \n                        routeOptions={[result.selectedRoute]}\n                        selectedRoute={result.selectedRoute}\n                        origin={formData.origin}\n                        destination={formData.destination}\n                        onRouteSelect={() => {}}\n                        showAllRoutes={false}\n                        height=\"500px\"\n                      />\n                    </div>\n                  )}\n                  \n                  <div className=\"space-y-4\">\n                    {/* âœ… MAIN: Total Project Cost */}\n                    <div className=\"text-3xl font-bold text-green-600 text-center p-4 bg-green-50 rounded\">\n                      Total Project Cost: {formatCurrency(result.calculation.totalCost)}\n                    </div>\n                    \n                    {/* âœ… CLEAR: Cost Summary - Transport vs Commodity */}\n                    {result.calculation.costSummary && (\n                      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\">\n                        <div className=\"bg-blue-50 border border-blue-200 rounded p-3 text-center\">\n                          <h4 className=\"font-medium text-blue-800 mb-1\">ðŸš› Pure Transport</h4>\n                          <div className=\"text-xl font-bold text-blue-600\">\n                            {formatCurrency(result.calculation.costSummary.pureTransportCosts)}\n                          </div>\n                          <div className=\"text-xs text-blue-600 mt-1\">\n                            Logistics & Delivery\n                          </div>\n                        </div>\n                        \n                        <div className=\"bg-orange-50 border border-orange-200 rounded p-3 text-center\">\n                          <h4 className=\"font-medium text-orange-800 mb-1\">â›½ Commodity</h4>\n                          <div className=\"text-xl font-bold text-orange-600\">\n                            {formatCurrency(result.calculation.costSummary.commodityCosts)}\n                          </div>\n                          <div className=\"text-xs text-orange-600 mt-1\">\n                            Fuel Purchase\n                          </div>\n                        </div>\n                        \n                        <div className=\"bg-green-50 border border-green-200 rounded p-3 text-center\">\n                          <h4 className=\"font-medium text-green-800 mb-1\">ðŸ’° Total Project</h4>\n                          <div className=\"text-xl font-bold text-green-600\">\n                            {formatCurrency(result.calculation.costSummary.totalProjectCosts)}\n                          </div>\n                          <div className=\"text-xs text-green-600 mt-1\">\n                            Complete Solution\n                          </div>\n                        </div>\n                      </div>\n                    )}\n                    \n                    {/* âœ… BREAKDOWN: Transport Costs Only */}\n                    <div className=\"bg-blue-50 border border-blue-200 rounded p-4\">\n                      <h4 className=\"font-medium mb-3 text-blue-800\">ðŸš› Transport & Logistics Breakdown:</h4>\n                      <div className=\"space-y-2 text-sm\">\n                        <div className=\"flex justify-between\">\n                          <span>Base Transport Cost:</span>\n                          <span className=\"font-semibold\">{formatCurrency(result.calculation.baseCost)}</span>\n                        </div>\n                        <div className=\"flex justify-between\">\n                          <span>Fuel Handling Fee:</span>\n                          <span>{formatCurrency(result.calculation.costBreakdown.fuelHandlingFee)}</span>\n                        </div>\n                        <div className=\"flex justify-between\">\n                          <span>Terminal Fees:</span>\n                          <span>{formatCurrency(result.calculation.costBreakdown.terminalFees)}</span>\n                        </div>\n                        <div className=\"flex justify-between\">\n                          <span>Hub Transfer Fee:</span>\n                          <span>{formatCurrency(result.calculation.costBreakdown.hubTransferFee)}</span>\n                        </div>\n                        <div className=\"flex justify-between\">\n                          <span>Insurance Cost:</span>\n                          <span>{formatCurrency(result.calculation.costBreakdown.insuranceCost)}</span>\n                        </div>\n                        <div className=\"flex justify-between\">\n                          <span>Carbon Offset:</span>\n                          <span>{formatCurrency(result.calculation.costBreakdown.carbonOffset)}</span>\n                        </div>\n                        <div className=\"flex justify-between border-t pt-2 font-bold text-blue-800\">\n                          <span>Total Transport:</span>\n                          <span>{formatCurrency(result.calculation.costSummary.pureTransportCosts)}</span>\n                        </div>\n                      </div>\n                    </div>\n\n                    {/* âœ… BREAKDOWN: Commodity Costs */}\n                    <div className=\"bg-orange-50 border border-orange-200 rounded p-4\">\n                      <h4 className=\"font-medium mb-3 text-orange-800\">â›½ Commodity Purchase Breakdown:</h4>\n                      <div className=\"space-y-2 text-sm\">\n                        <div className=\"flex justify-between\">\n                          <span>Volume:</span>\n                          <span>{formData.volume} tonnes</span>\n                        </div>\n                        <div className=\"flex justify-between\">\n                          <span>Market Price per Tonne:</span>\n                          <span>${result.calculation.costBreakdown.commodityPricePerTonne}/tonne</span>\n                        </div>\n                        <div className=\"flex justify-between border-t pt-2 font-bold text-orange-800\">\n                          <span>Total Commodity Cost:</span>\n                          <span>{formatCurrency(result.calculation.costBreakdown.commodityCost)}</span>\n                        </div>\n                      </div>\n                    </div>\n\n                    {/* Confidence & Metadata */}\n                    <div className=\"flex justify-between items-center text-sm text-gray-600 pt-4 border-t\">\n                      <div>\n                        <strong>Confidence Score:</strong> {result.calculation.confidence}%\n                      </div>\n                      <div>\n                        Route ID: {result.routeId} | Calculated: {formatDate(result.timestamp)}\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              )}\n\n              {/* Legacy Single Result Support (Fallback) */}\n              {result && result.data && !result.routeOptions && !result.calculation && (\n                <div className=\"bg-white rounded-lg shadow-md p-6\">\n                  <h3 className=\"text-lg font-semibold mb-4 text-green-700\">\n                    Cost Calculation Results\n                    {result.data.aiInsights?.aiUsed && (\n                      <span className=\"ml-2 text-sm bg-green-100 text-green-800 px-2 py-1 rounded\">\n                        ðŸ¤– AI Enhanced\n                      </span>\n                    )}\n                  </h3>\n                  \n                  <div className=\"space-y-3\">\n                    <div className=\"text-2xl font-bold text-green-600\">\n                      Total Cost: {formatCurrency(result.data.totalCost)}\n                    </div>\n                    \n                    <div className=\"grid grid-cols-2 gap-4 text-sm\">\n                      <div>\n                        <strong>Base Cost:</strong><br />\n                        {formatCurrency(result.data.baseCost)}\n                      </div>\n                      <div>\n                        <strong>Distance:</strong><br />\n                        {result.data.distance} miles\n                      </div>\n                      {result.data.trucksNeeded && (\n                        <div>\n                          <strong>Trucks Needed:</strong><br />\n                          {formatTrucks(result.data.trucksNeeded)}\n                        </div>\n                      )}\n                    </div>\n\n                    {/* Cost Breakdown */}\n                    <div className=\"mt-4\">\n                      <h4 className=\"font-medium mb-2\">Cost Breakdown:</h4>\n                      <div className=\"space-y-1 text-sm\">\n                        <div className=\"flex justify-between\">\n                          <span>Fuel Handling Fee:</span>\n                          <span>{formatCurrency(result.data.costBreakdown.fuelHandlingFee)}</span>\n                        </div>\n                        <div className=\"flex justify-between\">\n                          <span>Terminal Fees:</span>\n                          <span>{formatCurrency(result.data.costBreakdown.terminalFees)}</span>\n                        </div>\n                        <div className=\"flex justify-between\">\n                          <span>Hub Transfer Fee:</span>\n                          <span>{formatCurrency(result.data.costBreakdown.hubTransferFee)}</span>\n                        </div>\n                        <div className=\"flex justify-between\">\n                          <span>Insurance Cost:</span>\n                          <span>{formatCurrency(result.data.costBreakdown.insuranceCost)}</span>\n                        </div>\n                        <div className=\"flex justify-between\">\n                          <span>Carbon Offset:</span>\n                          <span>{formatCurrency(result.data.costBreakdown.carbonOffset)}</span>\n                        </div>\n                      </div>\n                    </div>\n\n                    {/* Route Legs */}\n                    {result.data.legs && (\n                      <div className=\"mt-4\">\n                        <h4 className=\"font-medium mb-2\">Route Details:</h4>\n                        <div className=\"space-y-1 text-sm\">\n                          <div>Leg 1: {result.data.legs.leg1.distance} miles via {result.data.legs.leg1.mode} - {formatCurrency(result.data.legs.leg1.cost)}</div>\n                          <div>Leg 2: {result.data.legs.leg2.distance} miles via {result.data.legs.leg2.mode} - {formatCurrency(result.data.legs.leg2.cost)}</div>\n                        </div>\n                      </div>\n                    )}\n\n                    {/* AI Insights */}\n                    {result.data.aiInsights?.recommendation && (\n                      <div className=\"mt-4 p-3 bg-blue-50 border border-blue-200 rounded\">\n                        <h4 className=\"font-medium mb-1 text-blue-800\">ðŸ¤– AI Insights:</h4>\n                        <p className=\"text-blue-700 text-sm\">{result.data.aiInsights.recommendation}</p>\n                      </div>\n                    )}\n\n                    <div className=\"text-xs text-gray-500 mt-4\">\n                      Confidence: {result.data.confidence}% | Calculated: {formatDate(result.data.timestamp)}\n                    </div>\n                  </div>\n                </div>\n              )}\n\n              {/* Route History */}\n              {routeHistory.length > 0 && (\n                <div className=\"bg-white rounded-lg shadow-md p-6\">\n                  <h3 className=\"text-lg font-semibold mb-4\">Recent Calculations</h3>\n                  <div className=\"space-y-3 max-h-64 overflow-y-auto\">\n                    {routeHistory.slice(0, 5).map((route) => (\n                      <div key={route._id} className=\"border-b pb-2 last:border-b-0\">\n                        <div className=\"flex justify-between items-start\">\n                          <div className=\"text-sm\">\n                            <div className=\"font-medium\">\n                              {route.origin} â†’ {route.destination}\n                            </div>\n                            <div className=\"text-gray-600\">\n                              {route.volume} tonnes {route.fuelType}\n                            </div>\n                          </div>\n                          <div className=\"text-right text-sm\">\n                            <div className=\"font-bold text-green-600\">\n                              {formatCurrency(route.calculatedCost)}\n                            </div>\n                            <div className=\"text-gray-500 text-xs\">\n                              {formatDate(route.timestamp)}\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              )}\n            </React.Fragment>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default FuelRouteApp;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}